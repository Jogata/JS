<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AJAX | XMLHttpRequest</title>
  </head>
  <body>
    
    <section class="gallery">
 
      <div class="gallery-topic">
        <h2>our gallery</h2>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, expedita dolorem? Consequatur facere quasi at rem, eos saepe. Eligendi, animi laboriosam rerum accusantium voluptatem, odio tempora eveniet velit soluta, placeat dolor dolorem sequi.</p>
      </div>
 
      <div class="gallery-image">
 
        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>
 
        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>

        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>

        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>

        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>

        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>

        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>
 
        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>
 
        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>
 
        <div class="col-2">
          <img src="./slides/361146473_995671938136092_4243291179085438720_n-copy.jpg" alt="">
          <div class="search-btn">
            <svg aria-hidden="true" class="pre-nav-design-icon" focusable="false" viewBox="0 0 24 24" role="img" width="24px" height="24px" fill="none">
              <path stroke="currentColor" stroke-width="1.5" d="M13.962 16.296a6.716 6.716 0 01-3.462.954 6.728 6.728 0 01-4.773-1.977A6.728 6.728 0 
              013.75 10.5c0-1.864.755-3.551 1.977-4.773A6.728 6.728 0 0110.5 3.75c1.864 0 3.551.755 4.773 1.977A6.728 6.728 0 0117.25 10.5a6.726 6.726 
              0 01-.921 3.407c-.517.882-.434 1.988.289 2.711l3.853 3.853"></path>
            </svg>
          </div>
        </div>
 
      </div>

      <button class="btn more">see more</button>

    </section>

    <h1><span>AJAX</span> XMLHttpRequest(HTTPMethod, url, )</h1>

    <!-- ================= Get data from local JSON file ================= -->
    <fieldset>
      <legend>Get all users from local JSON file</legend>
      <button id="local">Send Request</button>
    </fieldset>

    <script>
      const btnLocalJSON = document.querySelector("#local");
      btnLocalJSON.addEventListener("click", getAllUsersFromLocalFile);

      function getAllUsersFromLocalFile() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const responseAsObject = JSON.parse(this.responseText);
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'users.js', true);
        users.send();
      }
    </script>

    <!-- ================= Get data from GitHub API ================= -->
    <fieldset>
      <legend>Get users from GitHub API</legend>
      <button id="github">Send Request</button>
      <span id="userGithub"></span>
    </fieldset>

    <script>
      const btnGithub = document.querySelector("#github");
      btnGithub.addEventListener("click", getUsersFromGithub);

      function getUsersFromGithub() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const usersAsArray = JSON.parse(this.responseText);
              const display = document.querySelector("#userGithub");
              const randomIndex = Math.floor(Math.random() * 30);
              display.textContent = usersAsArray[randomIndex].login;
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'https://api.github.com/users', true);
        users.send();
      }
    </script>
  </body>
</html>