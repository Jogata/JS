<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AJAX | XMLHttpRequest</title>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <style>
      fieldset {
        display: none;
      }
      
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      .theme-1 {
        --accent: #50ff57;
        --gradient-first: #686868;
        --gradient-second: #383838;
        --gradient-third: #1b1b1b;
        --button-primary: #515151;
        --button-secondary: #acacac;
        --pagination: #898989;
      }

      .theme-2 {
        --accent: #fff849;
        --gradient-first: #394f66;
        --gradient-second: #233648;
        --gradient-third: #1b2c3c;
        --button-primary: #394f66;
        --button-secondary: #5c83a8;
        --pagination: #4b6b89;
      }

      .theme-3 {
        --accent: #6fbaff;
        --gradient-first: #aa3c3c;
        --gradient-second: #b14141;
        --gradient-third: #872c2c;
        --button-primary: #9c5050;
        --button-secondary: #eb9393;
        --pagination: #ba6f6f;
      }

      .theme-4 {
        --accent: #ff2e2e;
        --gradient-first: #f6ec91;
        --gradient-second: #bbbe3e;
        --gradient-third: #99a939;
        --button-primary: #8e9048;
        --button-secondary: #d0eb81;
        --pagination: #e8eb5c;
      }

      body {
        --text-primary: #fff;
        font-family: Georgia, serif;
        --gradient-bg: radial-gradient(
          50% 50% at 50% 50%, 
          var(--gradient-first) 0%, 
          var(--gradient-second) 51%, 
          var(--gradient-third) 100%);
        --gradient-mobile: 
          radial-gradient(180deg, 
          var(--gradient-first) 0%, 
          var(--gradient-second) 51%, 
          var(--gradient-third) 100%);
      }

      ul {
        list-style: none;
      }

      button {
        cursor: pointer;
      }

      a {
        color: var(--text-primary);
        text-transform: capitalize;
        text-decoration: none;
        transition: color 300ms;
      }
      a:hover {
        color: var(--accent);
      }

      .container {
        max-width: 1100px;
        margin: 0 auto;
      }

      #about .container {
        max-width: 800;
      }

      header {
        color: var(--text-primary);
        background: var(--gradient-mobile);
        background: var(--gradient-bg);
      }

      .menu ul {
        display: flex;
        gap: 2em;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }

      .menu a {
        font-size: 1.2em;
      }

      .title {
        position: relative;
        max-width: 800px;
        margin: 0 auto;
        padding: 4em 2em;
        display: flex;
        align-items: center;
        justify-content: center;
        text-transform: capitalize;
      }

      .title h1 {
        position: absolute;
        font-size: clamp(1em, 10vw, 4.5em);
      }

      .text-1 {
        left: calc(50% - 4em);
        animation: text-opacity 800ms forwards;
        animation-delay: 500ms;
        /* opacity: 0; */
        z-index: 2;
      }
      .text-2, 
      .text-3 {
        right: calc(50% - 4.5em);
        bottom: 1em;
        color: var(--accent);
        z-index: 0;
      }

      .text-3 {
        opacity: 0.2;
        z-index: 1;
      }

      .text-overlay {
        position: absolute;
        top: 0;
        left: 0;
        content: "";
        width: 0;
        height: 100%;
        background-color: #fff;
        animation: overlay 800ms;
        animation-delay: 500ms;
      }

      .img {
        width: 60%;
        transform: rotate(15deg);
        filter: drop-shadow(0 2.5em 1.5em rgba(0, 0, 0, 0.7));
        animation: fade-up 800ms ease-out;
        z-index: 1;
      }

      .controls {
        padding: 2em;
        display: flex;
        align-items: center;
        justify-content: space-between;
        text-align: center;
      }

      .controls h3 {
        text-transform: capitalize;
      }

      .controls button {
        width: 4em;
        height: 4em;
        border: 1px solid currentColor;
        border-radius: 50%;
        background-color: var(--button-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: color 300ms;
      }
      .controls button:hover {
        background-color: var(--button-secondary);
      }
      .controls button i {
        color: var(--text-primary);
        font-size: 2.3em;
      }

      .pagination {
        margin-top: 1em;
        display: flex;
        gap: 2em;
        align-items: center;
        justify-content: center;
      }
      .pagination span {
        width: 0.8em;
        height: 0.8em;
        border-radius: 50%;
        background-color: var(--pagination);
        cursor: pointer;
      }
      .pagination span.active {
        background-color: var(--text-primary);
      }

      .slideCount {
        position: absolute;
        top: 20%;
        right: 10%;
        letter-spacing: -3px;
      }
      .slideCount span:nth-child(1), 
      .slideCount span:nth-child(2) {
        font-size: 1.5em;
      }
      .slideCount span:nth-child(2), 
      .slideCount span:nth-child(3) {
        color: var(--pagination);
      }

      #about {
        padding: 2em 2em 1em;
        color: var(--text-primary);
        background-color: var(--gradient-third);
      }

      #about h1 {
        margin: 1em 0;
        font-size: 2em;
      }

      p {
        margin: 2em 0;
        font-size: 1.1em;
        line-height: 30px;
      }

      @media screen and (max-width: 1000px) {
        .navbar .container {
          padding: 2em;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }
        .brand {
          font-size: 1.7em;
          font-weight: bold;
        }
        .menu-btn {
          color: var(--text-primary);
          border: 1px solid currentColor;
          background-color: transparent;
          z-index: 4;
        }
        .menu-btn i {
          font-size: 2.5em;
        }
        .menu {
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          min-height: 100vh;
          padding: 4em 2em;
          background-color: var(--gradient-third);
          display: flex;
          gap: 4em;
          align-items: center;
          justify-content: space-around;
          flex-direction: column;
          transition: 500ms ease-in-out;
          z-index: 3;
        }
        .menu.open {
          left: 0;
        }
      }
      @media screen and (max-height: 400px) and (max-width: 1000px) {
        .slideCount {
          top: 4em;
        }
      }
      @media screen and (min-width: 1000px) {
        header {
          background: var(--gradient-bg);
        }
        header > .container {
          position: relative;
        }
        .pagination {
          position: absolute;
          top: 50%;
          right: 2em;
          transform: translateY(-50%);
          flex-direction: column;
        }
        .controls {
          gap: 0.6em;
          justify-content: flex-start;
        }
        .controls .name {
          position: absolute;
          right: 2em;
          bottom: 2em;
        }
      }
      @media screen and (max-width: 1000px) {
        
      }
    </style>
  </head>
  <body class="theme-1">
    <header>
      <div class="container">
        <nav class="navbar">
          <div class="container">
            <a href="#" class="brand">pc</a>
            <button class="menu-btn">menu
              <i class="fa fa-bars"></i>
            </button>
            <div class="menu">
              <ul class="links">
                <li><a href="#">home</a></li>
                <li><a href="#">products</a></li>
                <li><a href="#">contact</a></li>
              </ul>
              <ul class="sci">
                <li><a href="#">twitter</a></li>
                <li><a href="#">instagram</a></li>
                <li><a href="#">facebook</a></li>
              </ul>
            </div>
          </div>
        </nav>
        <div class="container">
          <div class="title">
            <h1 class="text-1">
              <span>premium</span>
              <span class="text-overlay"></span>
            </h1>
            <img src="./images/controller.png" alt="" class="img">
            <h1 class="text-2">controllers.</h1>
            <h1 class="text-3">controllers.</h1>
          </div>
          <h2 class="slideCount">
            <span class="theme-number">1</span>
            <span>/</span>
            <span>4</span>
          </h2>
          <div class="controls">
            <button id="prev">p</button>
            <div>
              <h3 class="name">deep black</h3>
              <div class="pagination">
                <span class="active"></span>
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>
            <button id="next">n</button>
          </div>
        </div>
      </div>
    </header>

    <section id="about">
      <div class="container">
        <h1>Welcome to Premium Controllers Where Your Gaming Experience Meets Artistry!</h1>
        <p>At Premium Controllers we're passionate about gaming and believe that every gamer deserves a truly unique and personalized gaming experience. That's why we specialize in creating custom premium console controller desings that not only enchance your gamong performance but also reflect your individual style and personality.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Minus tenetur quis, itaque soluta quam aperiam distinctio placeat facilis reprehenderit exercitationem provident illum illo debitis minima! Vel dolores, perferendis magni nesciunt expedita cumque cupiditate perspiciatis doloremque qui, corrupti sint. Harum unde corporis, amet quisquam velit ipsa rerum, modi adipisci ea eius provident? Vero illo voluptatibus facilis.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur reprehenderit hic temporibus quae qui optio rerum at doloremque, possimus fugiat recusandae doloribus sequi harum illo. Iusto, maiores ex nostrum nobis consequatur blanditiis adipisci, officiis hic, iure distinctio magnam quibusdam.</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dicta doloribus est nobis atque cum tempore quis ratione voluptate ut libero, quidem, voluptates maiores.</p>
      </div>
    </section>

    <!-- <h1><span>AJAX</span> XMLHttpRequest(HTTPMethod, url, )</h1> -->

    <!-- ================= Get data from local JSON file ================= -->

    <fieldset>
      <legend>Get all users from local JSON file</legend>
      <button id="local">Send Request</button>
    </fieldset>

    <script>
      const btnLocalJSON = document.querySelector("#local");
      btnLocalJSON.addEventListener("click", getAllUsersFromLocalFile);

      function getAllUsersFromLocalFile() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const responseAsObject = JSON.parse(this.responseText);
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'users.js', true);
        users.send();
      }
    </script>

    <!-- ================= Get data from GitHub API ================= -->
    <fieldset>
      <legend>Get users from GitHub API</legend>
      <button id="github">Send Request</button>
      <span id="userGithub"></span>
    </fieldset>

    <script>
      const btnGithub = document.querySelector("#github");
      btnGithub.addEventListener("click", getUsersFromGithub);

      function getUsersFromGithub() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const usersAsArray = JSON.parse(this.responseText);
              const display = document.querySelector("#userGithub");
              const randomIndex = Math.floor(Math.random() * 30);
              display.textContent = usersAsArray[randomIndex].login;
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'https://api.github.com/users', true);
        users.send();
      }
    </script>
  </body>
</html>