<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AJAX | XMLHttpRequest</title>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  </head>
  <body>
    <h1><span>AJAX</span> XMLHttpRequest(HTTPMethod, url, )</h1>

    <!-- ================= Get data from local JSON file ================= -->

    <fieldset>
      <legend>Get all users from local JSON file</legend>
      <button id="local">Send Request</button>
    </fieldset>

    <script>
      const btnLocalJSON = document.querySelector("#local");
      btnLocalJSON.addEventListener("click", getAllUsersFromLocalFile);

      function getAllUsersFromLocalFile() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const responseAsObject = JSON.parse(this.responseText);
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'users.js', true);
        users.send();
      }
    </script>

    <!-- ================= Get data from GitHub API ================= -->
    <fieldset>
      <legend>Get users from GitHub API</legend>
      <button id="github">Send Request</button>
      <span id="userGithub"></span>
    </fieldset>

    <script>
      const btnGithub = document.querySelector("#github");
      btnGithub.addEventListener("click", getUsersFromGithub);

      function getUsersFromGithub() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const usersAsArray = JSON.parse(this.responseText);
              const display = document.querySelector("#userGithub");
              const randomIndex = Math.floor(Math.random() * 30);
              display.textContent = usersAsArray[randomIndex].login;
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'https://api.github.com/users', true);
        users.send();
      }
    </script>

<script>
  // 02. English Name of the Last Digit

  function printLastDigit(num) {
    // let lastDigit = num / 10;
    // lastDigit = lastDigit - Math.floor(lastDigit);
    // lastDigit = lastDigit * 10;
    // lastDigit = Math.floor(lastDigit);

    num = String(num);
    let letter = num[num.length - 1];

    let result = "";

    // console.log(letter);

    if (letter == 0) {
      result = "zero";
    } else if (letter == 1) {
      result = "one";
    } else if (letter == 2) {
      result = "two";
    } else if (letter == 3) {
      result = "three";
    } else if (letter == 4) {
      result = "four";
    } else if (letter == 5) {
      result = "five";
    } else if (letter == 6) {
      result = "six";
    } else if (letter == 7) {
      result = "seven";
    } else if (letter == 8) {
      result = "eight";
    } else if (letter == 9) {
      result = "nine";
    }

    console.log(result);

  }

  // printLastDigit(512);
  // printLastDigit(1);
  // printLastDigit(1643);

  // 03. Next Day

  function printNextDay(y, m, d) {
    const date = new Date(y, m - 1, d);

    let nexday = date.setDate(d+1);

    var d = new Date(nexday),
    month = '' + (d.getMonth() + 1),
    day = '' + d.getDate(),
    year = d.getFullYear();

// if (month.length < 2) 
//     month = '0' + month;
// if (day.length < 2) 
//     day = '0' + day;

return [year, month, day].join('-');

    // console.log(date.toDateString());
    // console.log(date.toISOString());
    // console.log(date.toLocaleDateString());
    // console.log(date.toLocaleString());
  }

  // printNextDay(2016, 9, 30);
  // console.log(printNextDay(2016, 9, 30));
  // console.log(printNextDay(2020, 3, 24));

  // 04. Reverse String

  function reverseString(input) {
    input = String(input);
    let reversed = "";

    for (let index = input.length - 1; index >= 0; index--) {
      reversed = reversed + input[index];
    }

    console.log(reversed);

  }

  // reverseString("Hello");
  // reverseString("SoftUni");
  // reverseString("1234");

  // 05. Distance between Points

  function calcDistancebetweenPoints(x1, y1, x2, y2) {
    const x = x2 - x1;
    const y = y2 - y1;

    let z = x * x + y * y;
    z = Math.sqrt(z);

    console.log(z);

  }

  // calcDistancebetweenPoints(2, 4, 5, 0);
  // calcDistancebetweenPoints(2.34, 15.66, -13.55, -2.9985);

  // 01. Sort Numbers

  function sort(...arr) {
    // const arr = [n1, n2, n3];

    function compareNumbers(a, b) {
      return b - a;
    }

    arr.sort(compareNumbers);

    for (let index = 0; index < arr.length; index++) {
      console.log(arr[index]);
    }

  }

  // sort(2, 1, 3);
  // console.log("------------");
  // sort(-2, 1, 3);
  // console.log("------------");
  // sort(0, 0, 2);

</script>
  </body>
</html>