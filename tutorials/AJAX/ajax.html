<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AJAX | XMLHttpRequest</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Babylonica&family=Dancing+Script&family=Fraunces:opsz@9..144&family=Herr+Von+Muellerhoff&family=Kaushan+Script&family=Permanent+Marker&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: 'Dancing Script', cursive;
        overflow-x: hidden;
      }
      body.fixed-nav {
        overflow: hidden;
      }

      img {
        width: 3rem;
      }

      .purple {
        color: purple;
      }

      .section {
        padding: 2em 0;
        background-image: url("./images/background/background.png");
        background-repeat: no-repeat;
        background-size: cover;
      }

      .section-container {
        padding: 2rem 2rem 0 2rem;
      }

      .nav-container {
        margin-bottom: 2rem;
      }

      nav {
        width: 100%;
        max-width: 120rem;
        margin: auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        text-transform: capitalize;
      }

      .logo-container a {
        display: flex;
        gap: 5px;
      }
      .logo-container img {
        width: 2.2rem;
      }
      .logo-container span {
        color: #000;
        font-size: 2rem;
        transition: all 0.4s ease-in-out;
      }
      .logo-container:hover span {
        color: purple;
      }

      .menu {
        display: flex;
        justify-content: center;
        gap: 1rem;
        transition: all 0.4s ease-in-out;
      }
      .menu.menu-active {
        order: 1;
        margin: 3rem;
        visibility: visible;
        opacity: 1;
        z-index: 2;
      }

      .menu-item {
        white-space: nowrap;
      }
      .menu-item a {
        padding: 0.4em 0.8em;
        color: #000;
        font-size: 1.3rem;
        font-weight: 800;
      }
      .menu-item a:hover {
        color: purple;
      }

      .bars-container {
        display: none;
        position: relative;
        z-index: 2;
      }

      .bars {
        padding: 0.5rem 0.3rem;
        display: flex;
        align-items: center;
        flex-direction: column;
        cursor: pointer;
      }
      .bar {
        position: relative;
        width: 20px;
        height: 3px;
        background-color: #000;
        transition: all 0.4s ease-in-out;
      }

      .bar:first-child {
        transform: translateY(10px);
      }
      .bars-active .bar:first-child {
        transform: rotate(-45deg) translateY(0);
      }

      .bars-active .bar:nth-child(2) {
        opacity: 0;
      }

      .bar:last-child {
        transform: translateY(-10px);
      }
      .bars-active .bar:last-child {
        transform: rotate(45deg) translate(-4px, -4px);
      }

      @media screen and (min-width: 54rem) {
        body.fixed-nav {
          overflow: unset;
        }
      }

      @media screen and (max-width: 54rem) {
        .fixed-nav nav {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          max-width: 100%;
          height: 100vh;
          padding: 1em;
          align-items: start;
          flex-wrap: wrap;
          background-color: #f5f5db;
          z-index: 2;
          overflow: auto;
        }
        .menu {
          display: none;
          width: 100%;
        }
        .fixed-nav .menu {
          display: block;
        }
        .fixed-nav .menu li {
          display: block;
          text-align: center;
        }
        .bars-container {
          display: block;
        }
        .fixed-nav .logo-container, 
        .fixed-nav .bars-container {
          align-self: flex-start;
        }
      }

      .section-content-container {
        position: relative;
        z-index: 1;
      }

      .home-section {
        padding-top: 0;
      }

      .home-container {
        max-width: 120rem;
        min-height: 500px;
        margin: auto;
        display: flex;
        align-items: center;
        justify-content: space-evenly;
        gap: 2rem;
      }

      .home-text {
        max-width: 100%;
      }

      .home-text .section-subtitle {
        display: block;
        padding: 0;
      }

      .page-title {
        margin-bottom: 2rem;
      }

      .subtitle-decoration {
        margin: auto;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .subtitle-decoration img {
        width: 3rem;
      }

      .line {
        width: 1rem;
        height: 2px;
        background-color: #000;
      }

      .subtitle-text {
        display: block;
        margin-bottom: 0.5rem;
        text-transform: uppercase;
      }

      .main-title {
        display: block;
        margin: 1rem 0 2rem;
      }

      .main-title h1 {
        font-size: calc(2rem + 3vw);
        text-transform: capitalize;
      }

      .arrow-container {
        display: flex;
        align-items: center;
        transition: all 0.4s ease-in-out;
        cursor: pointer;
      }

      .arrow i {
        padding: 0.6rem 0.672rem;
        border-radius: 50%;
        box-shadow: -2px -2px 3px #fff, 2px 2px 3px #0006, 
        inset 2px 2px 3px #0006, inset -2px -2px 3px #fff;
      }
      .arrow:hover i {
        color: purple;
        transform: translateX(5px);
        box-shadow: -1px -1px 1px #fff, 1px 1px 1px #0006, 
        inset 1px 1px 1px #0006, inset -1px -1px 1px #fff;
      }
      .arrow:active i {
        box-shadow: 0px 0px 0px #0006, 0px 0px 0px #fff, 
        inset 0px 0px 0px #0006, inset 0px 0px 0px #fff;
      }
    </style>
  </head>
  <body>
    <section class="section home-section">
      <div class="section-container">
        <div class="nav-container">
          <nav>
            <div class="logo-container">
              <a href="">
                <img src="./images/icons/LOGO.svg" alt="">
                <span>wine</span>
              </a>
            </div>
            <ul class="menu">
              <li class="menu-item">
                <a href="#about">about us</a>
              </li>
              <li class="menu-item">
                <a href="#awards">our awards</a>
              </li>
              <li class="menu-item">
                <a href="#team">our team</a>
              </li>
              <li class="menu-item">
                <a href="#gallery">gallery</a>
              </li>
              <li class="menu-item">
                <a href="#info">info</a>
              </li>
            </ul>
            <div class="bars-container">
              <div class="bars">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
              </div>
            </div>
          </nav>
        </div>
        <div class="section-content-container">
          <div class="home-container">
            <div class="home-text">
              <div class="section-subtitle">
                <div class="subtitle-decoration">
                  <div class="line"></div>
                  <img src="./images/icons/grapes-80x70.svg" alt="">
                  <div class="line"></div>
                </div>
                <span class="subtitle-text">
                  discover grapes
                </span>
              </div>
              <div class="main-title">
                <h1>
                  my wine original
                </h1>
              </div>
              <div class="home-buttons">
                <h3>explore now</h3>
                <div class="arrow-container">
                  <div class="arrow">
                    <i class="fa fa-arrow-right"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="home-images">
              <img class="home-image visible" src="./images/pics/WINE1.png" alt="">
              <img class="home-image" src="./images/pics/WINE2.png" alt="">
              <img class="home-image" src="./images/pics/WINE3.png" alt="">
              <div class="slider-btns">
                <i class="fa fa-arrow-left" id="prev"></i>
                <i class="fa fa-arrow-right" id="next"></i>
              </div>
              <div class="circle red"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      const mobileNav = document.querySelector(".bars");
      const mobileNavContainer = document.querySelector(".bars-container");
      const menu = document.querySelector(".menu");

      mobileNavContainer.addEventListener("click", () => {
        document.body.classList.toggle("fixed-nav");
        mobileNav.classList.toggle("bars-active");
        menu.classList.toggle("menu-active");
      })
    </script>

    <script>
      const heroImages = document.querySelectorAll(".home-image");
      const prevButton = document.querySelector("#prev");
      const nextButton = document.querySelector("#next");
      const circle = document.querySelector(".circle");

      const colors = ["red", "olive", "black"];

      let index = 0;

      prevButton.addEventListener("click", () => {
        heroImages[index].classList.remove("visible");
        index--;
        index = heroImages.length + index;
        index = index % heroImages.length;
        heroImages[index].classList.add("visible");
        changeCircleColor();
      })

      nextButton.addEventListener("click", () => {
        heroImages[index].classList.remove("visible");
        index++;
        index = index % heroImages.length;
        heroImages[index].classList.add("visible");
        changeCircleColor();
      })

      function changeCircleColor() {
        const circle = document.querySelector(".circle");
        circle.className = "circle " + colors[index];
      }
    </script>

    <section class="section" id="about">
      <div class="section-container">
        <div class="section-content-container">
          <div class="section-subtitle">
            <div class="subtitle-decoration">
              <div class="line"></div>
              <img src="./images/icons/grapes-80x70.svg" alt="">
              <div class="line"></div>
            </div>
            <span class="subtitle-text">
              original recipe
            </span>
          </div>
          <div class="section-title">
            <h2>more than <span class="purple">wine</span></h2>
            <p>In 1862 James Malcolm - the visionary father of My Wine winemaking - established the winery that started it all.</p>
          </div>
          <div class="subsections">
            <div class="subsection">
              <div class="subsection-content-container">
                <h3 class="purple">harvesting</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum tenetur perferendis maxime ad distinctio expedita officia ab suscipit autem laboriosam voluptates praesentium delectus voluptate amet reiciendis temporibus, voluptatum neque possimus eaque assumend.</p>
              </div>
              <img src="./images/icons/Wine80x70.svg" alt="">
            </div>
            <div class="subsection">
              <div class="subsection-content-container">
                <h3 class="purple">clarification</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Enim dolores vitae eveniet similique? Nobis ea magni maiores beatae saepe nostrum incidunt voluptatum aspernatur ullam adipisci, nihil asperiores alias et ex magnam, repudiandae praesentium est quibusdam eligendi. Molestiae nisi fugit repellendus aspernatur eaque error dignissimos ducimus, nihil nemo inventore ipsam quas soluta nostrum laborum.</p>
              </div>
              <img src="./images/icons/Barel 80x70.svg" alt="">
            </div>
            <div class="subsection">
              <div class="subsection-content-container">
                <h3 class="purple">fermentation</h3>
                <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa iusto qui inventore repellat accusantium ex quibusdam commodi? Saepe officia unde dignissimos velit assumenda magnam ex eaque.</p>
              </div>
              <img src="./images/icons/Barel2 80x70.svg" alt="">
            </div>
            <div class="subsection">
              <div class="subsection-content-container">
                <h3 class="purple">aging</h3>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Impedit iusto saepe itaque veritatis, hic voluptas ipsum ullam perspiciatis aliquam molestias doloremque, doloribus placeat similique soluta quam, optio sint ex incidunt dolorum.</p>
              </div>
              <img src="./images/icons/WineBottle 80x70.svg" alt="">
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <div class="testimonial">
      <div class="content">
        <div class="content-box active" id="content-1">
          <div class="card">
            <div class="img-box">
              <img src="../../../CSS/assets/img/profile-copy.jpg" alt="">
            </div>
            <div class="text-box">
              <h2>person's name 1<br>
                <b>product designer</b>
              </h2>
              <ul class="sci">
                <li><a href="#">
                    <i class="fa fa-facebook-f"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-twitter"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-linkedin"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-instagram"></i>
                  </a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="content-box" id="content-2">
          <div class="card">
            <div class="img-box">
              <img src="./images/pics/people1_1920.jpg" alt="">
            </div>
            <div class="text-box">
              <h2>person's name 2<br>
                <b>product designer</b>
              </h2>
              <ul class="sci">
                <li><a href="#">
                    <i class="fa fa-facebook-f"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-twitter"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-linkedin"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-instagram"></i>
                  </a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="content-box" id="content-3">
          <div class="card">
            <div class="img-box">
              <img src="./images/pics/people2_1920.jpg" alt="">
            </div>
            <div class="text-box">
              <h2>person's name 3<br>
                <b>product designer</b>
              </h2>
              <ul class="sci">
                <li><a href="#">
                    <i class="fa fa-facebook-f"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-twitter"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-linkedin"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-instagram"></i>
                  </a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="content-box" id="content-4">
          <div class="card">
            <div class="img-box">
              <img src="./images/pics/people3_1920.jpg" alt="">
            </div>
            <div class="text-box">
              <h2>person's name 4<br>
                <b>product designer</b>
              </h2>
              <ul class="sci">
                <li><a href="#">
                    <i class="fa fa-facebook-f"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-twitter"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-linkedin"></i>
                  </a></li>
                <li><a href="#">
                    <i class="fa fa-instagram"></i>
                  </a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="testimonial-nav">
      <!-- <div class="waves"> -->
      <!-- <div class="wave" id="wave-1"></div> -->
      <!-- <div class="wave" id="wave-2"></div> -->
      <!-- <div class="wave" id="wave-3"></div> -->
      <!-- <div class="wave" id="wave-4"></div> -->
      <!-- </div> -->
      <div class="icons">
        <div class="icon-img-box active" data-id="content-1">
          <img src="../../../CSS/assets/img/profile-copy.jpg" alt="">
        </div>
        <div class="icon-img-box" data-id="content-2">
          <img src="./images/pics/people1_1920.jpg" alt="">
        </div>
        <div class="icon-img-box" data-id="content-3">
          <img src="./images/pics/people2_1920.jpg" alt="">
        </div>
        <div class="icon-img-box" data-id="content-4">
          <img src="./images/pics/people3_1920.jpg" alt="">
        </div>
      </div>
    </div>

    <script>
      const imageBoxes = document.querySelectorAll(".icon-img-box");
      const contentBoxes = document.querySelectorAll(".content-box");

      imageBoxes.forEach((icon, index) => {
        icon.addEventListener("mouseover", () => {
          const activeIcon = document.querySelector(".icon-img-box.active");
          activeIcon.classList.remove("active");
          icon.classList.add("active");
          const activeBox = document.querySelector(".content-box.active");
          activeBox.classList.remove("active");
          contentBoxes[index].classList.add("active");
        })
      })
      // for (let i = 0; i < imageBoxes.length; i++) {
      //   imageBoxes[i].addEventListener("mouseover", () => {
      //     for (let i = 0; i < contentBoxes.length; i++) {
      //       contentBoxes[i].className = "content-box";
      //     }
      //     document.getElementById(imageBoxes[i].dataset.id).className = "content-box active";
      //     for (let j = 0; j < imageBoxes.length; j++) {
      //       imageBoxes[j].className = "icon-img-box";
      //     }
      //     imageBoxes[i].className = "icon-img-box active";
      //   })
      // }
    </script>

    <section id="gallery">
      <div class="gallery-image">
        <h2>view</h2>
        <img src="./images/gallery/gallery1_1920x1080.jpg" alt="">
      </div>
      <div class="gallery-image portrait">
        <h2>view</h2>
        <img src="./images/gallery/gallery2_1920x2300.jpg" alt="">
      </div>
      <div class="gallery-image">
        <h2>view</h2>
        <img src="./images/gallery/gallery3_1920x1080.jpg" alt="">
      </div>
      <div class="gallery-image portrait">
        <h2>view</h2>
        <img src="./images/gallery/gallery6_1920x2300.jpg" alt="">
      </div>
      <div class="gallery-image">
        <h2>view</h2>
        <img src="./images/gallery/gallery4_1920x1080.jpg" alt="">
      </div>
      <div class="gallery-image">
        <h2>view</h2>
        <img src="./images/gallery/gallery5_1920x1080.jpg" alt="">
      </div>
      <div class="preview-box">
        <div class="inner-container">
          <img src="./images/gallery/gallery1_1920x1080.jpg" id="preview-box-image" alt="">
          <div class="preview-box-navigation">
            <button id="prev-image">
              <span>&#139;</span>
            </button>
            <button id="next-image">
              <span>&#155;</span>
            </button>
          </div>
          <div class="details">
            <p>Image <span class="current">1</span> of <span class="total">5</span></p>
            <button class="close">
              close preview
              <i class="fa fa-times"></i>
            </button>
          </div>
        </div>
      </div>
    </section>
 
    <!-- <h1><span>AJAX</span> XMLHttpRequest(HTTPMethod, url, )</h1> -->

    <!-- ================= Get data from local JSON file ================= -->
    <fieldset>
      <legend>Get all users from local JSON file</legend>
      <button id="local">Send Request</button>
    </fieldset>

    <script>
      const btnLocalJSON = document.querySelector("#local");
      btnLocalJSON.addEventListener("click", getAllUsersFromLocalFile);

      function getAllUsersFromLocalFile() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const responseAsObject = JSON.parse(this.responseText);
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'users.js', true);
        users.send();
      }
    </script>

    <!-- ================= Get data from GitHub API ================= -->
    <fieldset>
      <legend>Get users from GitHub API</legend>
      <button id="github">Send Request</button>
      <span id="userGithub"></span>
    </fieldset>

    <script>
      const btnGithub = document.querySelector("#github");
      btnGithub.addEventListener("click", getUsersFromGithub);

      function getUsersFromGithub() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const usersAsArray = JSON.parse(this.responseText);
              const display = document.querySelector("#userGithub");
              const randomIndex = Math.floor(Math.random() * 30);
              display.textContent = usersAsArray[randomIndex].login;
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'https://api.github.com/users', true);
        users.send();
      }
    </script>
  </body>
</html>