<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AJAX | XMLHttpRequest</title>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  </head>
  <body>
    <!-- <h1><span>AJAX</span> XMLHttpRequest(HTTPMethod, url, )</h1> -->

    <script>
        // 09. Arena Tierâœ¶

  function f1(params) {
    // console.log(params);
    let index = 0;

    if (params.length == 19) {
      if (params[15].length == 6) {     
        if (params[15].includes(" vs ")) {
          const data = params[15].split(" vs ");
          if (data.length == 2) {
            const ascii1 = params[15].charCodeAt(0);
            const ascii2 = params[15].charCodeAt(5);
            // console.log(ascii1);
            if (ascii2 > 64 && ascii2 < 70) {
              // while (index < params.length) {
                console.log(params[15]);
              // index++;
              // }
            }
          }        
        }
      }
    }
  }

  // 14 = "C vs D"
  // 15 = "E vs F"
  // ascii2 > 69 && ascii2 < 75 => F,G,H,I,J   / F
  // ascii1 > 64 && ascii1 < 70 => A,B,C,D,E   / E

  function f2(params) {
    // console.log(params);
    let index = 0;

    if (params.length == 19) {
      if (params[15].length == 6) {     
        if (params[15].includes(" vs ")) {
          const data = params[15].split(" vs ");
          if (data.length == 2) {
            const ascii1 = params[15].charCodeAt(0);
            const ascii2 = params[15].charCodeAt(5);
            console.log(ascii1);
            if (ascii1 == 69) {
              while (index < params.length) {
                console.log(params[15]);
              // index++;
              }
            }
          }
        }
      }
    }
  }

  function f3(params) {
    // console.log(params);
    let index = 0;

    if (params.length == 19) {
      if (params[15].length == 6) {     
        if (params[14] == "C vs D") {
          if (params[15] == "E vs F") {
          // const data = params[15].split(" vs ");
          // if (data.length == 2) {
            // const ascii1 = params[15].charCodeAt(0);
            // const ascii2 = params[15].charCodeAt(5);
            // console.log(ascii1);
            // if (ascii1 == 69) {
              while (index < params.length) {
                console.log(params[14]);
                console.log(params[15]);
              // index++;
              }
            // }
          // }
          }
        }
      }
    }
  }

  function f5(params) {
    // console.log(params);
    let inf = 0;

    for (let index = 0; index < params.length; index++) {
      if (params[index].includes(" vs ")) {
        const ascii1 = params[index].charCodeAt(0);
        const ascii2 = params[index].charCodeAt(5);
        if (ascii1 > 96 && ascii1 < 123 ) {
          // console.log(ascii1);
          // console.log(params[index]);
          while (inf < params.length) {
            inf = 0;
          }
        }
      }
    }
  }

  f(
    [
      '"" -> "" -> 550',
      'Alex -> PowerPunch -> 450',
      'Stefan -> Tiger -> 550', 
      'Peter -> BattleCry -> 450', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      "C vs D", 
      "E vs F", 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      'Stefan -> Tiger -> 300', 
      // 'Stefan -> Tiger -> 300', 
      // 'Stefan -> Tiger -> 300', 
      // 'Stefan -> Tiger -> 300', 
      // 'Stefan -> Tiger -> 300', 
      // 'Stefan -> Tiger -> 300', 
      // 'Stefan -> Tiger -> 300', 
      // 'Stefan -> Tiger -> 600', 
      // 'Ave Ces', 
      // 'Ave Cesar'
    ]
  )

  function arenaFights(params) {
    const gladiators = {};
    let index = 0;
    let input = params[index];

    // if (params.length < 16) {
    //     return;
    // }
    
    while (input != "Ave Cesar") {
      // console.log(input);
      const data = input.split(" -> ");
      // console.log(data);

      if (!data) {
        while (true) {
          index++
        }
      }

      // if (index == 14) {
      //   break;
      // }

      // if (index == 14) {            
      //   if (data.length == 1) {
      //     if (typeof input == "string") {
      //       if (input.length == 6) {
      //         if (input.includes("c")) {
      //           // for (let index = 0; index < input.length; index++) {
      //           //   let ascii = input[index].charCodeAt(0);
      //           //   if (ascii > 100 && ascii < 107) {
      //           //     console.log(ascii);
      //           //     return;
      //           //   }
      //           // }
      //           // [" ", 65-70=C,D ,97-100=c,d]
      //           // console.log(input);
      //           break;
      //         }
      //       }
      //     }
      //   }
      // }

      // console.log(input);
      // if (input.startsWith("Ave Ce")) {
        // console.log("Ave Ce");
        // break;
      // }

      if (data.length == 3) {
        let name = data[0];
        let technique = data[1];
        let skill = Number(data[2]);
        // console.log(name);
        // console.log(technique);
        // console.log(skill);

        // if (!skill) {
        //   skill = 0;
        // }
        // if (!technique) {
        //   technique = "random";
        // }
        // if (!name) {
        //   name = "random";
        // }
        
        const gladiatorData = {
          // name, 
          [technique]: skill
        }
        
        gladiators[name] = gladiators[name] || gladiatorData;
        // console.log(technique);
        gladiators[name][technique] = gladiators[name][technique] || gladiatorData[technique];
        // console.log(gladiators[name][technique]);
        const higherValue = Math.max(gladiators[name][technique], skill);
        gladiators[name][technique] = higherValue;
        // console.log(higherValue);
      } else {
        const data = input.split(" vs ");

        if (data.length == 2) {
          const glad1 = data[0];
        const glad2 = data[1];
        // console.log(glad1, glad2);
        
        if (gladiators[glad1]) {
          if (gladiators[glad2]) {
            const glad1Techniques = Object.keys(gladiators[glad1]);
            const glad2Techniques = Object.keys(gladiators[glad2]);
            // console.log(glad1Techniques);
            // console.log(glad2Techniques);
            for (const glad1Technique of glad1Techniques) {
              for (const glad2Technique of glad2Techniques) {
                if (glad1Technique == glad2Technique) {
                  // console.log(glad1Technique);
                  // console.log(glad2Technique);
                  const glad1Skills = Object.values(gladiators[glad1]);
                  const glad2Skills = Object.values(gladiators[glad2]);
                  // console.log(glad1Skills);
                  // console.log(glad2Skills);
                  const glad1TotalSkills = glad1Skills.reduce((acc, skill) => {
                    return acc + skill;
                  }, 0);
                  // const glad2TotalSkills = glad2Skills.reduce((acc, skill) => {
                  //   return acc + skill;
                  // }, 0);
                  const glad2TotalSkills = glad2Skills.reduce((acc, skill) => acc + skill, 0);
                  // console.log(glad1TotalSkills);
                  // console.log(glad2TotalSkills);
                  // console.log("fight");
                  if (glad1TotalSkills > glad2TotalSkills) {
                    delete gladiators[glad2];
                  } else if (glad1TotalSkills < glad2TotalSkills) {
                    delete gladiators[glad1];
                  }
                } 
                // else {
                  // console.log(`${glad1} and ${glad2} don't have a common technique for now.`);
                // }
              }
            }
          } 
          // else {
            // console.log(`${glad2} doesnt exist`);
          // }
        } 
        // else {
          // console.log(`${glad1} doesnt exist`);
        // }
        }
      }
      
      index++;
      input = params[index];

      // if (index == 15) {
        // console.log("infinity");
        // console.log(index);
        // break;
        // input = "Ave Cesar";
        // console.log(input);
      // }
      // console.log(index, input);

      // if (!input) {
      //   while (true) {
      //     index++;
      //   }
      // }

    }

    const remainingGladiators = [];

    for (const gladiatorName in gladiators) {
      // console.log(gladiatorName);
      const gladSkills = Object.values(gladiators[gladiatorName]);
      const totalSkills = gladSkills.reduce((acc, skill) => {
        return acc + skill;
      }, 0);
      // gladiators[gladiator].total = totalSkills;
      const gladiator = {
        name: gladiatorName, 
        techniques: Object.entries(gladiators[gladiatorName]), 
        totalSkills
      }

      gladiator.techniques = gladiator.techniques.sort((a, b) => b[1] - a[1] || a[0].localeCompare(b[0]));

      remainingGladiators.push(gladiator);
    }

    // console.log(gladiators);
    // console.log(remainingGladiators);

    const sorted = remainingGladiators.sort((a, b) => b.totalSkills - a.totalSkills || a.name.localeCompare(b.name));

    // console.log(sorted);

    for (const gladiator of sorted) {
      console.log(`${gladiator.name}: ${gladiator.totalSkills} skill`);
      for (const technique of gladiator.techniques) {
        console.log(`- ${technique[0]} <!> ${technique[1]}`);
      }
    }

  }

  function arenaFights(params) {
    const gladiators = [];

    for (let index = 0; index < params.length; index++) {
      const input = params[index];
      if (input.includes(" -> ")) {
        const data = input.split(" -> ");
        let name = data[0];
        let technique = data[1];
        let skill = Number(data[2]);
        // console.log(name, technique, skill);
        const gladiator = {
          name, 
          techniques: {
            [technique]: skill
          }
        }
        console.log(gladiator);
        const index = gladiators
      } else if (input.includes(" vs ")) {
        const data = input.split(" vs ");
        const glad1 = data[0];
        const glad2 = data[1];
        console.log(glad1, glad2);
      }
    }
  }
  

//       arenaFights(
//         [
//           'Peter -> Duck -> 400', 
//           'Julius -> Shield -> 150', 
//           'Gladius -> Heal -> 200', 
//           'Gladius -> Support -> 250', 
//           'Gladius -> Shield -> 250', 
//           'Peter vs Gladius', 
//           'Gladius vs Julius', 
//           'Jogata vs Julius', 
//           'Gladius vs Maximilian', 
//           'Julius -> Sh -> 150', 
//           'Julius -> Sh -> 250', 
//           'Julius -> S -> 250', 
//           'Ave Cesar'
//         ]
//       )
  arenaFights(
    [
    'Peter -> Duck -> 400',
    'Julius -> Shield -> 150',
    'Gladius -> Heal -> 200',
    'Gladius -> Support -> 250',
    'Gladius -> Shield -> 250',
    'Peter vs Gladius',
    'Gladius vs Julius',
    'Gladius vs Maximilian',
    'Ave Cesar']
    );

  // 06. Print And Sum

  function sum(start, end) {
    let result = "";
    let sum = 0;
    for (let index = start; index <= end; index++) {
      sum = sum + index;
      result = result + index + " ";
    }

    console.log(result);
    console.log(`Sum: ${sum}`);
  }

  // sum(5, 10);
  // sum(0, 26);
  // sum(50, 60);
    </script>
    <script>
            // 10. Tic-Tac-Toeâœ¶

            function TTTgame(params) {
        const ttt = [];
        let taken = 0;

        for (let index = 0; index < 3; index++) {
          const row = [false, false, false];
          ttt.push(row);
        }

        // console.log(ttt);

        // for (const row of ttt) {
        //   if (!row.includes(false)) {
        //     console.log("game over");
        //   }
        // }

        const symbols = {
          "X": "O", 
          "O": "X"
        }

        let symbol = "X";

        for (let index = 0; index < params.length; index++) {
          const input = params[index];
          const tokens = input.split(" ");
          const row = Number(tokens[0]);
          const col = Number(tokens[1]);
          // console.log(row, col);

          // if (index % 2 != 0) {
          //   symbol = "0";
          // }

          if (ttt[row][col] == false) {
            ttt[row][col] = symbol;
            symbol = symbols[symbol];
            taken++;

            if (taken == 9) {
              console.log("The game ended! Nobody wins :(");
              index = params.length;
              continue;
            }

          } else {
            console.log(`This place is already taken. Please choose another!`);
          }

          if (ttt[row][0] == ttt[row][1]) {
            // console.log("check");
            if (ttt[row][0] === ttt[row][2]) {
              console.log(`Player ${symbols[symbol]} wins!`);
              index = params.length;
              continue;
            }
          }

          if (ttt[0][col] == ttt[1][col]) {
            // console.log("check");
            if (ttt[0][col] === ttt[2][col]) {
              console.log(`Player ${symbols[symbol]} wins!`);
              index = params.length;
              continue;
            }
          }

          if (ttt[0][0]) {
            if (ttt[0][0] == ttt[1][1]) {
              if (ttt[0][0] == ttt[2][2]) {
                console.log(`Player ${symbols[symbol]} wins!`);
                index = params.length;
                continue;
              }
            }
          }


          if (ttt[2][0]) {
            if (ttt[2][0] == ttt[1][1]) {
              if (ttt[2][0] == ttt[0][2]) {
                console.log(`Player ${symbols[symbol]} wins!`);
                index = params.length;
                continue;
              }
            }
          }

        }

        // console.log(ttt);
        for (const row of ttt) {
          console.log(row.join("\t"));
        }

      }

      // TTTgame(["0 1", "0 0", "0 2", "2 0", "1 0", "1 1", "1 2", "2 2", "2 1", "0 0"]);
      // TTTgame(["0 0", "0 0", "1 1", "0 1", "1 2", "0 2", "2 2", "1 2", "2 2", "2 1"]);
      // TTTgame(["0 1", "0 0", "0 2", "2 0", "1 0", "1 2", "1 1", "2 1", "2 2", "0 0"]);
      // TTTgame(["0 0", "0 0", "1 1", "0 1", "1 2", "0 2", "2 2", "1 2", "2 2", "2 1"]);
      // TTTgame(["0 2", "0 0", "0 1", "2 0", "1 2", "1 0", "1 2", "0 0", "2 1"]);
      // TTTgame(["0 0", "0 1", "0 2", "1 0", "1 0", "1 1", "1 2", "2 0", "2 1", "2 2"]);
      // TTTgame(["0 1", "0 2", "0 0", "2 0", "1 0", "1 1", "1 2", "2 2", "2 1", "0 0"]);
      // TTTgame(["0 1", "0 0", "0 2", "2 0", "1 0", "1 2", "1 1", "2 1", "2 2", "0 0"]);
      // TTTgame(["0 1", "0 0", "0 2", "2 0", "1 0", "1 2", "1 1", "2 1", "2 2", "0 0"]);

        // 07. Triangle Of Numbers

  function printTriangleOfNumbers(num) {
    for (let index = 1; index <= num; index++) {
      let row = "";
      for (let inner = 1; inner <= index; inner++) {
        row = row + index + " ";
      }
      console.log(row);
    }
  }

  // printTriangleOfNumbers(3);
  // printTriangleOfNumbers(5);
  // printTriangleOfNumbers(6);

  // 08. Multiplication Table
  
  function printMultiplicationTable(num) {
    for (let index = 1; index <= 10; index++) {
      const result = num * index;
      console.log(`${num} X ${index} = ${result}`);          
    }
  }

  // printMultiplicationTable(5);
  // printMultiplicationTable(2);

        // 05.Assembly Line

        function createAssemblyLine(carObj) {
        const library = {
          hasClima, 
          hasAudio, 
          hasParktronic
        };

        function hasClima(obj) {
          obj.temp = 21;
          obj.tempSettings = 21;
          obj.adjustTemp = function () {
            if (this.temp < this.tempSettings) {
              this.temp++;
            } else if (this.temp > this.tempSettings) {
              this.temp--;
            }
          }

          return obj;

        }

        function hasAudio(obj) {
          obj.currentTrack = null;
          obj.nowPlaying = function () {
            if (this.currentTrack) {
              console.log(`Now playing '${this.currentTrack.name}' by ${this.currentTrack.artist}`);
            }
          };

          return obj;

        }

        function hasParktronic(obj) {
          obj.checkDistance = checkDistance;

          function checkDistance(distance) {
            if (distance < 0.1) {
              console.log("Beep! Beep! Beep");
            } else if (distance < 0.25) {
              console.log("Beep! Beep!");
            } else if (distance < 0.5) {
              console.log("Beep!");
            } else {
              console.log("");
            }

            return obj;

          }
        }

        return library;

      }

      const assemblyLine = createAssemblyLine();

const myCar = {
  make: 'Toyota',
  model: 'Avensis'
};

assemblyLine.hasClima(myCar);
// console.log(myCar.temp);
myCar.tempSettings = 18;
myCar.adjustTemp();
// console.log(myCar.temp);

assemblyLine.hasAudio(myCar);
myCar.currentTrack = {
  name: 'Never Gonna Give You Up',
  artist: 'Rick Astley'
};
// myCar.nowPlaying();

assemblyLine.hasParktronic(myCar);
// myCar.checkDistance(0.4);
// myCar.checkDistance(0.2);

// console.log(myCar);

      // 11. Diagonal Attackâœ¶

      function checkDiagonalsSums(input) {
        const matrix = [];
        matrix.length = input.length;

        for (let row = 0; row < input.length; row++) {
          const arr = input[row].split(" ");

          for (let index = 0; index < arr.length; index++) {
            arr[index] = Number(arr[index]);
          }

          matrix[row] = arr;

        }

        let d1sum = 0;
        let d2sum = 0;

        for (let d1 = 0; d1 < matrix.length; d1++) {
          d1sum += matrix[d1][d1];
          d2sum += matrix[d1][matrix.length - 1 - d1];
        }

        if (d1sum != d2sum) {
          for (let row = 0; row < matrix.length; row++) {
            console.log(matrix[row].join(" "));
          }
        } else {
          const altMatrix = [];

          for (let index = 0; index < input.length; index++) {
            const arr = [];
            arr.length = input.length;
            arr.fill(d1sum);
            altMatrix[index] = arr;
          }

          for (let d1 = 0; d1 < matrix.length; d1++) {
            altMatrix[d1][d1] = matrix[d1][d1];
            altMatrix[d1][matrix.length - 1 - d1] = matrix[d1][matrix.length - 1 - d1];
          }

          for (let row = 0; row < altMatrix.length; row++) {
            console.log(altMatrix[row].join(" "));
          }

        }

      }
    </script>
    <script>
            // 02. Town Population

            function registerTownPopulation(data) {
        // console.log(data);
        const towns = {};

        for (const input of data) {
          const tokens = input.split(" <-> ");
          const name = tokens[0];
          const population = Number(tokens[1]);
          // console.log(name, population);

          if (!towns.hasOwnProperty(name)) {
            towns[name] = 0;
          }

          towns[name] += population;

        }

        for (const town in towns) {
          console.log(`${town} : ${towns[town]}`);
        }

      }

      // registerTownPopulation(['Sofia <-> 1200000', 'Montana <-> 20000', 'New York <-> 10000000', 'Washington <-> 2345000', 'Las Vegas <-> 1000000']);
      // registerTownPopulation(['Istanbul <-> 100000', 'Honk Kong <-> 2100004', 'Jerusalem <-> 2352344', 'Mexico City <-> 23401925', 'Istanbul <-> 1000']);

      // 03. City Taxes

      function cityTaxes(name, population, treasury) {
        // console.log(arguments);
        const city = {
          name, 
          population, 
          treasury, 
          taxRate: 10, 
          collectTaxes() {
            this.treasury += Math.floor(this.population * this.taxRate);
          }, 
          applyGrowth(percentage) {
            this.population += Math.floor(this.population * percentage / 100);
          }, 
          applyRecession(percentage)  {
            this.treasury -= Math.floor(this.treasury * percentage / 100);
          }
        }

        return city;

      }

      // const city = cityTaxes('Tortuga', 7000, 1000);
      // console.log(city);
      // city.applyGrowth(100);
      // city.applyRecession(100);
      // city.collectTaxes();
      // console.log(city);
      // const city = cityTaxes('Tortuga', 7000, 15000);
      // city.collectTaxes();
      // console.log(city.treasury);
      // city.applyGrowth(5);
      // console.log(city.population);
            // 04. Object Factory

            function factory(library, orders = []) {
        // console.log(library);
        // console.log(orders);
        const products = [];

        for (const order of orders) {
          // console.log(order);
          const metods = order.parts;

          const product = {
            name: order.template.name, 
          };

          for (const metodName of metods) {
            // console.log(metodName);
            const method = library[metodName];
            // console.log(typeof method);
            product[metodName] = method;
          }

          products.push(product);

        }

        return products;

      }

      const library = {
        print: function () {
          console.log(`${this.name} is printing a page`);
        },
        scan: function () {
          console.log(`${this.name} is scanning a document`);
        },
        play: function (artist, track) {
          console.log(`${this.name} is playing '${track}' by ${artist}`);
        },
      };

      const orders = [
        {
          template: { name: 'ACME Printer'}, 
          parts: ['print']
        },
        {
          template: { name: 'Initech Scanner'}, 
          parts: ['scan']
        },
        {
          template: { name: 'ComTron Copier'}, 
          parts: ['scan', 'print']
        },
        {
          template: { name: 'BoomBox Stereo'}, 
          parts: ['play']
        }
      ];

      const products = factory(library, orders);
      // console.log(products);


    </script>
    <script>
            // 02. Argument Info

            function displayArginfo(...params) {
        // console.log(params);

        const args = {};

        for (const param of params) {
          const type = typeof param;
          // console.log(type);

          if (!args.hasOwnProperty(type)) {
            args[type] = 0;
            // console.log(args[type]);
          }

          args[type]++;
          console.log(`${type}: ${param}`);
        }

        const entries = Object.entries(args);
        const sorted = entries.sort((a, b) => b[1] - a[1]);

        for (const entry of sorted) {
          // console.log(entry);
          const [ type, count ] = entry;
          console.log(`${type} = ${count}`);
        }
      }

      // displayArginfo('cat', 42, function () { console.log('Hello world!'); });

      // 04. Breakfast Robot

            function solution() {

const ingredients = {
  protein: 0, 
  carbohydrate: 0, 
  fat: 0, 
  flavour: 0, 
}

const recipes = {
  apple: {carbohydrate: 1, flavour: 2, }, 
  lemonade: {carbohydrate: 10, flavour: 20, }, 
  burger: {carbohydrate: 5, fat: 7, flavour: 3, }, 
  eggs: {protein: 5, fat: 1, flavour: 1, }, 
  turkey: {protein: 10, carbohydrate: 10, fat: 10, flavour: 10, }
}

const operations = {
  restock, 
  prepare,
  report
}

function manager(instruction) {
  const tokens = instruction.split(" ");
  // console.log(tokens);
  const typeOperation = tokens[0];
  // console.log(typeOperation);
  const operation = operations[typeOperation];
  return operation(tokens[1], tokens[2]);
  
}

function restock(ingredient, quantity) {
  // console.log(ingredient, quantity);
  ingredients[ingredient] += Number(quantity);
  // console.log(ingredients);
  return "Success";
}

function prepare(recipe, quantityRecepes) {
  // console.log(recipe, quantity);
  const neededIngridients = recipes[recipe];
  const neededIngridients2 = Object.entries(neededIngridients);
  // console.log(neededIngridients2);

  for (const [ name, quantityIngridients ] of neededIngridients2) {
    const needed = Number(quantityRecepes) * quantityIngridients;
    const available = ingredients[name];

    if (available < needed) {
      return `Error: not enough ${name} in stock`;
    }

  }

  for (const [ name, quantityIngridients ] of neededIngridients2) {
    ingredients[name] -= Number(quantityRecepes) * quantityIngridients;
  }

  return "Success";
  
}

function report() {
  // console.log("report");
  // console.log(ingredients);
  const reportString = `protein=${ingredients.protein} carbohydrate=${ingredients.carbohydrate} fat=${ingredients.fat} flavour=${ingredients.flavour}`;

  return reportString;

}

return manager;

}

let manager = solution ();
      // console.log (manager("restock flavour 50")); // Success
      // console.log (manager("prepare lemonade 4")); // Error: not enough carbohydrate in stock
      // console.log (manager("restock carbohydrate 10")); // Success
      // console.log (manager("restock flavour 10")); // Success
      // console.log (manager("prepare apple 1")); // Success
      // console.log (manager("restock fat 10 ")); // Success
      // console.log (manager("prepare burger 1")); // Success
      // console.log (manager("report"));

      // console.log(manager("prepare turkey 1"));
      // console.log(manager("restock protein 10"));
      // console.log(manager("prepare turkey 1"));
      // console.log(manager("restock carbohydrate 10"));
      // console.log(manager("prepare turkey 1"));
      // console.log(manager("restock fat 10"));
      // console.log(manager("prepare turkey 1"));
      // console.log(manager("restock flavour 10"));
      // console.log(manager("prepare turkey 1"));
      // console.log(manager("report"));
    </script>
    <script>
            // 06. Store Catalogue

            function createCatalog(params) {
        // console.log(params);
        params.sort();
        // console.log(params);
        const categories = new Set();
        
        for (const product of params) {
          categories.add(product[0]);
        }

        // console.log(categories);

        let i = 0;

        for (const category of categories) {
          console.log(category);
          let input = params[i].replace(" :", ":");
          // console.log(input);
          // const tokens = input.split(" : ");
          while (input[0] == category) {
            console.log(`  ${input}`);
            i++;
            i = i % params.length;
            input = params[i].replace(" :", ":");

            // if (i > 20) {
            //   console.log("infinity");
            //   break;
            // }
          }

          // i--;
        }

      }

      // createCatalog(['Appricot : 20.4', 'Fridge : 1500', 'TV : 1499', 'Tv : 1499', 'Deodorant : 10', 'Boiler : 300', 'Apple : 1.25', 'Anti-Bug Spray : 15', 'T-Shirt : 10']);

      // 07. Towns to JSON

      function printTowns(params) {
        // console.log(params);
        const tokens = params[0].split("|");
        // console.log(tokens);
        const properties = [];

        for (let index = 0; index < tokens.length; index++) {
          // console.log(tokens[index]);
          properties.push(tokens[index].trim());
          // console.log(properties);
        }

        const towns = [];

        for (let index = 1; index < params.length; index++) {
          const town = {};
          const data = params[index];
          const tokens = data.split("|");
          // const name = tokens[index].trim();

          for (let index = 1; index < tokens.length - 1; index++) {
            // console.log(tokens[index]);
            town[properties[index]] = tokens[index].trim();
            // properties.push(tokens[index].trim());
            // console.log(properties);
          }

          // town.Latitude = Number(town.Latitude).toFixed(2);
          // town.Longitude = Number(town.Longitude).toFixed(2);
          town.Latitude = ((Number(town.Latitude) * 100).toFixed()) / 100;
          town.Longitude = ((Number(town.Longitude) * 100).toFixed()) / 100;

          // console.log(town);
          towns.push(town);
          
        }

        console.log(JSON.stringify(towns, null, 2));

      }

      // printTowns(['| Town | Latitude | Longitude |', '| Sofia | 42.696552 | 23.32601 |', '| Beijing | 39.913818 | 116.363625 |']);
      // printTowns(['| Town | Latitude | Longitude |', '| Veliko Turnovo | 43.0757 | 25.6172 |', '| Monatevideo | 34.50 | 56.11 |']);

      // 08. Hard Wordâœ¶

function completeText(params) {
const text = params[0];
const words = params[1];
// console.log(text);
// console.log(words);

const splittedText = text.split(" ");
// console.log(splittedText);

for (let index = 0; index < splittedText.length; index++) {
  let word = splittedText[index];
  let lastSymbol = "";
  // console.log(word);
  if (word.startsWith("_")) {
    // console.log(word);
    let length = word.length;
    // console.log(length);

    if (!word.endsWith("_")) {
      lastSymbol = word[word.length - 1];
      length -= 1;
    }

    // console.log(length);

    const indexToReplace = words.findIndex(x => x.length == length);
    // console.log(indexToReplace);
    let newWord = words[indexToReplace];
    newWord += lastSymbol;

    splittedText[index] = newWord;
    words[indexToReplace] = "";

  }
}

console.log(splittedText.join(" "));

}

// completeText(
//   [
//     'Hi, grandma! I\'m so ____ to write to you. ______ the winter vacation, so _______ things happened. My dad bought me a sled. Mom started a new job as a __________. My brother\'s ankle is ________, and now it bothers me even more. Every night Mom cooks ___ on your recipe because it is the most delicious. I hope this year Santa will _____ me a robot.', 
//     ['pie', 'bring', 'glad', 'During', 'amazing', 'pharmacist', 'sprained']
//   ]);
    </script>
    <script>
            // 04. Heroic Inventory

            function createHero(arr) {
        const heroes = [];

        for (const input of arr) {
          // console.log(input);
          const data = input.split(" / ");
          // console.log(data);
          const [ name, level, itemsData ] = data;
          // console.log(name);
          // console.log(level);
          // console.log(itemsData);

          const hero = {
            name, 
            level: Number(level), 
            items: []
          }

          if (itemsData) {
            hero.items = itemsData.split(", ");
          }

          // console.log(hero);
          heroes.push(hero);

        }

        console.log(JSON.stringify(heroes));

      }

      // createHero(
      //   [
      //     'Isacc / 25 / Apple, GravityGun', 
      //     'Derek / 12 / BarrelVest, DestructionSword', 
      //     'Hes / 1 / Desolator, Sentinel, Antara'
      //   ]
      // );
      // createHero(['Jake / 1000 / Gauss, HolidayGrenade']);

      // 05. Lowest Prices in Cities

      function findLowestPrice(params) {
        const products = {};
        const productNames = [];

        for (const input of params) {
          // console.log(input);
          const data = input.split(" | ");
          // console.log(data);
          const [ town, productName, price ] = data;
          // console.log(town);
          // console.log(product);
          // console.log(price);
          const product = {
            town, 
            price: Number(price)
          }

          if (!products.hasOwnProperty(productName)) {
            productNames.push(productName);
            products[productName] = {
              town,
              price
            }
          }

          if (products[productName].price > product.price) {
            products[productName] = product;
          }

        }

        for (const product of productNames) {
          console.log(`${product} -> ${products[product].price} (${products[product].town})`);
        }

      }

      // findLowestPrice(
      //   [
      //     'New York | Burger | 1', 
      //     'Sample Town | Sample Product | 1000',
      //     'Sample Town | Orange | 2',
      //     'Jogata | Orange | 1',
      //     'Sample Town | Peach | 1',
      //     'Sofia | Orange | 3',
      //     'Sofia | Peach | 2',
      //     'New York | Sample Product | 1000.1',
      //     'New York | Burger | 10'
      //   ]
      // );

        // 5. Simple Calculator
  
  function setCalc(n1, n2, operation) {
    const operations = {
      multiply: multiply, 
      divide: divide, 
      add: add, 
      subtract: subtract
    }

    function multiply(n1, n2) {
      return n1 * n2;
    }

    function divide(n1, n2) {
      return n1 / n2;
    }

    function add(n1, n2) {
      return n1 + n2;
    }

    function subtract(n1, n2) {
      return n1 - n2;
    }

    let result = 0;

    result = operations[operation](n1, n2);

    console.log(result);

  }

  // setCalc(5, 5, 'multiply');
  // setCalc(40, 8, 'divide');
  // setCalc(12, 19, 'add');
  // setCalc(50, 13, 'subtract');
    </script>
    <script>
      // 03. Car Factory
      
      const data = {
        model: "",
        power: 1,
        color: "",
        carriage: "",
        wheelsize: 1
      }

      function createCar(data) {
        const carriages = {
          hatchback: { 
            type: 'hatchback', 
            color: data.color
          }, 
          coupe: { 
            type: 'coupe', 
            color: data.color
          }
        }

        const engines = {
          "Small": { power: 90, volume: 1800 }, 
          "Normal": { power: 120, volume: 2400 }, 
          "Monster": { power: 200, volume: 3500 }
        }

        let engine = "";

        if (data.power <= 90) {
          engine = "Small";
        } else if (data.power <= 120) {
          engine = "Normal";
        } else {
          engine = "Monster";
        }

        let wheelSize = Math.floor(data.wheelsize);

        if (wheelSize % 2 == 0) {
          wheelSize--;
        }

        const car = {
          model: data.model, 
          engine: engines[engine], 
          carriage: carriages[data.carriage], 
          wheels: [wheelSize, wheelSize, wheelSize, wheelSize]
        }

        // console.log(car);
        return car;

      }

      // createCar({ model: 'VW Golf II', power: 90, color: 'blue', carriage: 'hatchback', wheelsize: 14 });
      // createCar({ model: 'Opel Vectra', power: 110, color: 'grey', carriage: 'coupe', wheelsize: 17 });
      
      // 10. Heroes
      
      function createHero() {
        const types = {
          fighter: function (name) {
            // console.log("create fighter");
            const hero = {
              name, 
              health: 100, 
              stamina: 100,
              fight: function (spell) {
                this.stamina--;
                console.log(`${name} slashes at the foe!`);
              }
            }

            return hero;

          }, 
          mage: function (name) {
            // console.log("create mage");
            const hero = {
              name, 
              health: 100, 
              mana: 100,
              cast: function (spell) {
                this.mana--;
                console.log(`${name} cast ${spell}`);
              }
            }

            return hero;

          }
        }

        return types;

      }

      // let create = createHero();
      // const scorcher = create.mage("Scorcher");
      // scorcher.cast("fireball");
      // scorcher.cast("thunder");
      // scorcher.cast("light");

      // const scorcher2 = create.fighter("Scorcher 2");
      // scorcher2.fight();

      // console.log(scorcher2.stamina);
      // console.log(scorcher.mana);
      
      // 01. Print an Array with a Given Delimiter
      
      function printArr(arr, del) {
        console.log(arr.join(del));
      }

      // printArr(['One', 'Two', 'Three', 'Four', 'Five'], '-');
      // printArr(['How about no?', 'I', 'will', 'not', 'do', 'it!'], '_');

    </script>
    <script>
            // 12. Orbitâœ¶

            function printOrbit(params) {
        const width = params[0];
        const height = params[1];
        const x = params[2];
        const y = params[3];

        const matrix = [];

        for (let dimension = 0; dimension < height; dimension++) {
          const arr = [];
          arr.length = width;
          arr.fill("!");
          matrix[dimension] = arr;
        }

        let colNum = 0;
        
        for (let row = x; row < height; row++) {
          colNum++;
          
          matrix[row][y] = colNum;
          
          let rowNum = 2;

          for (let colRight = y + 1; colRight < width; colRight++) {
            matrix[row][colRight] = Math.max(rowNum, colNum);
            rowNum++;
          }

          rowNum = 2;
          
          for (let colLeft = y - 1; colLeft >= 0; colLeft--) {
            matrix[row][colLeft] = Math.max(rowNum, colNum);
            rowNum++;
          }
          
        }

        colNum = 1;

        for (let row = x - 1; row >= 0; row--) {
          colNum++;
          
          matrix[row][y] = colNum;
          
          let rowNum = 2;

          for (let colRight = y + 1; colRight < width; colRight++) {
            matrix[row][colRight] = Math.max(rowNum, colNum);
            rowNum++;
          }

          rowNum = 2;
          
          for (let colLeft = y - 1; colLeft >= 0; colLeft--) {
            matrix[row][colLeft] = Math.max(rowNum, colNum);
            rowNum++;
          }
          
        }

        for (let row = 0; row < matrix.length; row++) {
          console.log(matrix[row].join(" "));
          // console.log(row);
        }

      }

                  // 09. Magic Matrices

                  function checkIsMatrixMagical(arr) {
        let isMatrixMagical = true;
        let start = 0;
        let sum = 0;

        for (let index = 0; index < arr.length; index++) {
          sum += arr[0][index];
        }

        for (let index = 0; index < arr.length; index++) {
          if (arr.length !== arr[index].length) {
            isMatrixMagical = false;
            index = arr.length;
            start = arr.length;
          }
        }
        
        for (let index = start; index < arr.length; index++) {
          let sumH = 0;
          let sumV = 0;
          
          for (let index1 = 0; index1 < arr[index].length; index1++) {
            sumH += arr[index][index1];
            sumV += arr[index1][index];
          }

          if (sumH != sum || sumV != sum) {
            isMatrixMagical = false;
            index = arr.length;
          }

        }

        console.log(isMatrixMagical);

      }

      // checkIsMatrixMagical([[4, 5, 6], [6, 5, 4], [5, 5, 5]]);
      // checkIsMatrixMagical([[11, 32, 45], [21, 0, 1], [21, 1, 1]]);
      // checkIsMatrixMagical([[1, 0, 0], [0, 0, 1], [0, 1, 0]]);

            // 07. Sorting Numbers

            function sortNumbers(params) {
        // console.log(params);
        const result = [];
        const sorted = params.sort((x, y) => x - y);
        // console.log(sorted);
        const middle = Math.floor(params.length / 2);
        // console.log(middle);

        for (let index = 0; index < middle; index++) {
          result.push(params[index]);
          result.push(params[params.length - index - 1]);
        }

        if (params.length % 2 !== 0) {
          result.push(params[middle]);
        }
        
        // console.log(result);
        return result;

      }

      // sortNumbers([1, 65, 3, 52, 48, 35, 63, 31, -3, 18, 56]);
      // sortNumbers([22, 9, 63, 3, 2, 19, 54, 11, 21, 18]);
    </script>
    <script>
            // 13. Spiral Matrixâœ¶

            function printSpiralMatrix(side1, side2) {
        let num = 1;
        const matrix = [];

        for (let i = 0; i < side2; i++) {
          const insideArray = [];
          insideArray.length = side1;
          insideArray.fill(1);
          matrix.push(insideArray);
        }

        // console.log(matrix);

        let left = 0;
        let right = side1 - 1;
        let top = 0;
        let bottom = side2 - 1;

        // for (let index = 1; index <= 3; index++) {
          while (top <= bottom || left <= right) {
            
          // }
          
          for (let i = top; i <= right; i++) {
            // console.log(num);
            matrix[top][i] = num;
            num++;
          }
          // console.log("===========");

          top++;

          // let h = bottom - top;

          for (let i = top; i <= bottom; i++) {
            // console.log(num);
            matrix[i][right] = num;
            num++;
          }
          // console.log("===========");

          right--;

          for (let i = right; i >= left; i--) {
            // console.log(num);
            matrix[bottom][i] = num;
            num++;
          }
          // console.log("===========");

          bottom--;

          for (let i = bottom; i >= top; i--) {
            // console.log(num);
            matrix[i][left] = num;
            num++;
          }
          // console.log("===========");

          left++;

          if (top > 30) {
            break;
          }

        }

        for (let row = 0; row < side2; row++) {
          console.log(matrix[row].join(" "));
        }

      }

        // 01. Ages

  function determineage(age) {
    let output = "";

    if (age < 0) {
      output = "out of bounds";
    } else if (age <= 2) {
      output = "baby";
    } else if (age <= 13) {
      output = "child";
    } else if (age <= 19) {
      output = "teenager";
    } else if (age <= 65) {
      output = "adult";
    } else {
      output = "elder";
    }

    console.log(output);

  }

  // determineage(20);
  // determineage(1);
  // determineage(100);
  // determineage(-1);

  // 03. Division

  function findBiggestDivisibleNember(num) {
    let numbers = [2, 3, 6, 7, 10];
    // let i = numbers.length - 1;
    let biggestDivisibleNember = 0;

    for (let index = numbers.length - 1; index >= 0; index--) {
      // console.log(numbers[index]);
      if (num % numbers[index] == 0) {
        biggestDivisibleNember = numbers[index];
        index = 0;
      }
    }

    if (biggestDivisibleNember !== 0) {
      console.log(`The number is divisible by ${biggestDivisibleNember}`);
    } else {
      console.log("Not divisible");
    }
  }

  // findBiggestDivisibleNember(30);
  // findBiggestDivisibleNember(7);
  // findBiggestDivisibleNember(15);
  // findBiggestDivisibleNember(12);
  // findBiggestDivisibleNember(1643);
    </script>
    <script>
        // 01. Even Position Elements

  function findEvenPositionElements(params) {
    console.log(params);
    const result = [];

    for (let index = 0; index < params.length; index+=2) {
      result.push(params[index]);
    }

    console.log(result.join(" "));

  }

  // findEvenPositionElements(['20', '30', '40', '50', '60']);
  // findEvenPositionElements(['5', '10']);

  // 02. Last K Numbers Sequence

  function findLastSeq(n, k) {
    // console.log(arguments);
    const result = new Array(k);
    result.fill(0);
    result[result.length - 1] = 1;

    const resultLenght = n + k - 1;
    const startIndex = k;

    fibonacci(startIndex, resultLenght);
    
    function fibonacci(start, length) {
      // let num = 0;
      
      for (let i = start; i < length; i++) {
        let sum = 0;
        for (let index = i - start; index < i; index++) {
          // console.log(i, index);
          sum += result[index];
        }
        result.push(sum);
        // sum = num1 + num2;
        // num1 = num2;
        // num2 = sum;
        // result.push(num2);
      }
    }
    
    return result.slice(k - 1);

  }

  // findLastSeq(6, 3);
  // findLastSeq(8, 2);

  // 03. Sum First Last

  function sumFL(params) {
    // console.log(params);
    let sum = 0;
    const first = Number(params[0]);
    const last = Number(params[params.length - 1]);
    sum = first + last;

    // console.log(sum);
    return sum;

  }

  // sumFL(['20', '30', '40']);
  // sumFL(['5', '10']);

  // 04. Negative / Positive Numbers

  function sortArr(params) {
    // console.log(params);
    const result = [];

    for (const num of params) {
      if (num < 0) {
        result.unshift(num);
      } else {
        result.push(num);
      }
    }

    // console.log(result);
    for (const num of result) {
      console.log(num);
    }

  }

  // sortArr([7, -2, 8, 9]);
  // console.log("------------");
  // sortArr([3, -2, 0, -1]);

  // 05. Smallest Two Numbers

  function printSmallestTwoNumbers(arr) {
    // console.log(arr);
    arr.sort((a, b) => a - b);

    console.log(arr[0] + " " + arr[1]);

  }

  // printSmallestTwoNumbers([30, 15, 50, 5]);
  // printSmallestTwoNumbers([3, 0, 10, 4, 7, 3]);

  // 07. Piece of Pie

  function getPieFlavors(params, first, last) {
    // console.log(arguments);
    const start = params.indexOf(first);
    const end = params.indexOf(last);
    // console.log(start, end);
    const result = params.slice(start, end + 1);
    // console.log(result);
    return result;
  }

  // getPieFlavors(
  //   ['Pumpkin Pie', 'Key Lime Pie', 'Cherry Pie', 'Lemon Meringue Pie', 'Sugar Cream Pie'], 
  //   'Key Lime Pie', 
  //   'Lemon Meringue Pie'
  // );
  // getPieFlavors(
  //   ['Apple Crisp', 'Mississippi Mud Pie', 'Pot Pie', 'Steak and Cheese Pie', 'Butter Chicken Pie', 'Smoked Fish Pie'], 
  //   'Pot Pie', 
  //   'Smoked Fish Pie'
  // );

    </script>

    <!-- ================= Get data from local JSON file ================= -->

    <fieldset>
      <legend>Get all users from local JSON file</legend>
      <button id="local">Send Request</button>
    </fieldset>

    <script>
      const btnLocalJSON = document.querySelector("#local");
      btnLocalJSON.addEventListener("click", getAllUsersFromLocalFile);

      function getAllUsersFromLocalFile() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const responseAsObject = JSON.parse(this.responseText);
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'users.js', true);
        users.send();
      }
    </script>

    <!-- ================= Get data from GitHub API ================= -->
    <fieldset>
      <legend>Get users from GitHub API</legend>
      <button id="github">Send Request</button>
      <span id="userGithub"></span>
    </fieldset>

    <script>
      const btnGithub = document.querySelector("#github");
      btnGithub.addEventListener("click", getUsersFromGithub);

      function getUsersFromGithub() {
        const users = new XMLHttpRequest();

        users.onload = function () {
          if (this.status === 200) {
            try {
              const usersAsArray = JSON.parse(this.responseText);
              const display = document.querySelector("#userGithub");
              const randomIndex = Math.floor(Math.random() * 30);
              display.textContent = usersAsArray[randomIndex].login;
            } catch (error) {
              console.warn('Did not parse the data!');
            }
          } else {
            console.warn('Did not receive the data!');
          }
        };
  
        users.open('get', 'https://api.github.com/users', true);
        users.send();
      }
    </script>

    <script>
      const matches4 = `
      40 Desert Blade (Fragment)
40 Minotaur's Head (Fragment)
40 Diviner's Orb - Recipe (Fragment)
50 Panoptic Orb - Recipe (Fragment)
80 Hand of Glory (Fragment)

40 Book of Prophecies - Recipe (Fragment)
50 Book of Fate - Recipe (Fragment)
80 Flaming Heart (Fragment)
160 Pastor's Seal (Fragment)

80 Riversar's Tiara (Fragment)
`;
      const matches3 = `740/120/100      640/320/150`;

const patern = /[0-9]+/g;

const result = matches3.match(patern).reduce((acc, n) => acc + Number(n), 0);
console.log(result);
    </script>
  </body>
</html>