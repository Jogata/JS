<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>URLSearchParams in JS</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css"/> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
<style>
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  position: relative;
  min-height: 100vh;
  padding-top: 10rem;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  color: #cdd4fd;
  font-family: "Montserrat", sans-serif;
  background-color: #2d3250;
}

dialog {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 500px;
  padding: 2rem;
  color: inherit;
  text-align: center;
  border: none;
  border-radius: 0.5rem;
  background-color: #424769;
  box-shadow: 0 1rem 1rem #1a1d30b4;
  outline: none;
}

.icon-tabler-x {
  display: block;
  margin-left: auto;
  cursor: pointer;
}

h1 {
  color: #f6b17a;
  font-size: 3rem;
  font-weight: 400;
}

.instruction {
  margin: 1rem 0 2rem 0;
  padding: 0 2.5rem;
  font-size: 0.9rem;
  line-height: 1.5;
}

.options {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  justify-content: center;
}

.option {
  min-width: 100px;
  padding: 1rem 0.5rem;
  border-radius: 0.25rem;
  border: 10px solid #7077a1;
  transition: 0.5s;
  cursor: pointer;
}

.option:hover {
  box-shadow: 0 0 1rem #838bbb;
  transform: scale(1.1);
}

.option p {
  margin-top: 0.25rem;
  font-size: 0.7rem;
}

.icon-tabler:not(.icon-tabler-x) {
  color: #f6b17a;
}

button {
  padding: 0.8rem 1.2rem;
  color: #2d3250;
  font-size: 1rem;
  font-weight: 700;
  border: none;
  border-radius: 0.5rem;
  background-color: #f6b17a;
  transition: 0.5s;
  cursor: pointer;
}

button:hover {
  box-shadow: 0 0 1rem #f6b17a;
}

header {
  width: 100%;
  min-height: 100vh;
  padding-top: 10rem;
  text-align: center;
}
</style>
  </head>
  <body>
    <!-- <h1>Popup</h1> -->
    <dialog>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="icon icon-tabler icon-tabler-x"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
        <path d="M18 6l-12 12" />
        <path d="M6 6l12 12" />
      </svg>
      <h1>Get the app</h1>
      <p class="instruction">
        Choose any of the following options to get the app for your device.
      </p>
      <div class="options">
        <div class="option">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon icon-tabler icon-tabler-device-mobile"
            width="30"
            height="30"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M6 5a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-14z"
            />
            <path d="M11 4h2" />
            <path d="M12 17v.01" />
          </svg>
          <p>Phone</p>
        </div>  
        <div class="option">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon icon-tabler icon-tabler-qrcode"
            width="30"
            height="30"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"
            />
            <path d="M7 17l0 .01" />
            <path
              d="M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"
            />
            <path d="M7 7l0 .01" />
            <path
              d="M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"
            />
            <path d="M17 7l0 .01" />
            <path d="M14 14l3 0" />
            <path d="M20 14l0 .01" />
            <path d="M14 14l0 3" />
            <path d="M14 20l3 0" />
            <path d="M17 17l3 0" />
            <path d="M20 17l0 3" />
          </svg>
          <p>QR Code</p>
        </div>  
        <div class="option">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon icon-tabler icon-tabler-link"
            width="30"
            height="30"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path d="M9 15l6 -6" />
            <path d="M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464" />
            <path
              d="M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463"
            />
          </svg>
          <p>Link</p>
        </div>  
      </div>  
    </dialog>
    <button>Get the app</button>
<script>  
// Open dialog/popup
const GET_THE_APP_BTN = document.querySelector("button");
const POPUP = document.querySelector("dialog");

GET_THE_APP_BTN.addEventListener("click", () => {
  POPUP.showModal();
});

// Close the dialog/popup
const CLOSE_BTN = document.querySelector('.icon-tabler-x');

CLOSE_BTN.addEventListener("click", () => {
  POPUP.close();
})
</script> 

    <!-- <h1>URLSearchParams in JavaScript - Constructing Query Strings</h1> -->

<header style="display: block;">
  <h2>JS Advanced Regular Exam - 19 February 2022</h2>
  <a href="../../00exams/JS Advanced Regular Exam - 19 February 2022">Open folder</a>
</header>

<script>
  class LibraryCollection {
    constructor(capacity) {
      this.capacity = capacity;
      this.books = [];
    }

    addBook(bookName, bookAuthor) {
      if (this.books.length >= this.capacity) {
        throw new Error('Not enough space in the collection.');
      }
      this.books.push({ bookName, bookAuthor, payed: false });

      return `The ${bookName}, with an author ${bookAuthor}, collect.`
      
    };

    payBook(bookName) {
      const findBook = this.books.find(b => b.bookName === bookName);

      if (!findBook) {
        throw new Error(`${bookName} is not in the collection.`);
      };

      if (findBook.payed) {
        throw new Error(`${bookName} has already been paid.`);
      } else {
        findBook.payed = true;
        return `${findBook.bookName} has been successfully paid.`;
      }
    }

    removeBook(bookName) {
        const findBook = this.books.find(b => b.bookName == bookName);

        if (!findBook) {
          throw new Error("The book, you're looking for, is not found.");
        };

        if (!findBook.payed) {
          throw new Error(`${bookName} need to be paid before removing from the collection.`);
        } else {
          const index = this.books.indexOf(findBook);

          this.books.splice(index, 1);

          return `${bookName} remove from the collection.`

        }
    }

    getStatistics(bookAuthor) {
      if (!bookAuthor) {
        let sortedBook = this.books.sort((a, b) => a.bookName.localeCompare(b.bookName));
        let result = [];

        result.push(`The book collection has ${this.capacity - this.books.length} empty spots left.`);

        sortedBook.map((b) => {
          let paid = b.payed ? 'Has Paid' : 'Not Paid';
          result.push(`${b.bookName} == ${b.bookAuthor} - ${paid}.`);
        });

        return result.join('\n').trim();
  
      } else {
        let findBook = this.books.find(b => b.bookAuthor == bookAuthor);
        
        if (findBook) {
          let result = [];
          let paid = findBook.payed ? 'Has Paid' : 'Not Paid';

          result.push(`${findBook.bookName} == ${findBook.bookAuthor} - ${paid}.`);

          return result.join('\n').trim();

        } else {
          throw new Error(`${bookAuthor} is not in the collection.`)
        }
      }
    }
}
</script>
<script>
  const flowerShop = {
    calcPriceOfFlowers(flower, price, quantity) {
      if (typeof flower != 'string' || !Number.isInteger(price) || !Number.isInteger(quantity)) {
          throw new Error('Invalid input!');
      } else {
          let result = price * quantity;
          return `You need $${result.toFixed(2)} to buy ${flower}!`;
      }
    },

    checkFlowersAvailable(flower, gardenArr) {
      if (gardenArr.indexOf(flower) >= 0) {
          return `The ${flower} are available!`;
      } else {
          return `The ${flower} are sold! You need to purchase more!`;
      }
    },

    sellFlowers(gardenArr, space) {
      let shop = [];
      let i = 0;
      
      if (!Array.isArray(gardenArr) || !Number.isInteger(space) || space < 0 || space >= gardenArr.length) {
        throw new Error('Invalid input!');
      } else {
        while (gardenArr.length > i) {
          if (i != space) {
              shop.push(gardenArr[i]);
          }
          
          i++;
          
        }
      }
  
      return shop.join(' / ');

    }
  }
  
</script>
<script>
  const { expect } = require('chai');
const flowerShop = require('./flowerShop.js');

describe('Flower Shop', () => {

    describe('Test for calcPriceOfFlowers', () => {
        it('Check for invalid parameters', () => {
            expect(() => flowerShop.calcPriceOfFlowers('string', 'string', 'string').to.throw('Invalid input!'));
            expect(() => flowerShop.calcPriceOfFlowers(3, 3, 3).to.throw('Invalid input!'));
            expect(() => flowerShop.calcPriceOfFlowers(3, 'string', 3).to.throw('Invalid input!'));
            expect(() => flowerShop.calcPriceOfFlowers(3, 3, 'string').to.throw('Invalid input!'));
        });

        it('Check valid parameters', () => {
            expect(flowerShop.calcPriceOfFlowers('string', 3, 3)).to.equal(`You need $9.00 to buy string!`);
            expect(flowerShop.calcPriceOfFlowers('string', 4, 3)).to.equal(`You need $12.00 to buy string!`);
            expect(flowerShop.calcPriceOfFlowers('string', 0, 3)).to.equal(`You need $0.00 to buy string!`);

        });
    });

    describe('Test for checkFlowersAvailable', () => {
        it('Check valid parameters', () => {
            expect(flowerShop.checkFlowersAvailable('Rose', ['Rose', 'Orch', 'Lily'])).to.equal(`The Rose are available!`);
            expect(flowerShop.checkFlowersAvailable('Rose', ['Orch', 'Lily'])).to.equal(`The Rose are sold! You need to purchase more!`);
        });
    });

    describe('Test for sellFlowers', () => {
        it('Check for valid parameters', () => {
            expect(() => flowerShop.sellFlowers('string', 'string').to.throw('Invalid input!'));
            expect(() => flowerShop.sellFlowers(['Rose', 'Orch', 'Lily'], 'string').to.throw('Invalid input!'));
            expect(() => flowerShop.sellFlowers('string', 2).to.throw('Invalid input!'));
            expect(() => flowerShop.sellFlowers('string', ['Rose', 'Orch', 'Lily']).to.throw('Invalid input!'));
            expect(() => flowerShop.sellFlowers(2, 2).to.throw('Invalid input!'));
        });

        it('Check for valid parameters', () => {
            expect(flowerShop.sellFlowers(['Rose', 'Orch', 'Lily'], 0)).to.equal(`Orch / Lily`);
            expect(flowerShop.sellFlowers(['Rose', 'Orch', 'Lily'], 1)).to.equal(`Rose / Lily`);
            expect(flowerShop.sellFlowers(['Rose', 'Orch', 'Lily'], 2)).to.equal(`Rose / Orch`);

        });
    });
});
</script>

    <script src="./in-fetch-api.js"></script>
    <script src="js.js">
      // Create Query String as String
      const queryStringSample = 'name=Dom&age=36&occupation=Software+Developer';
      // Create URLSearchParams Object from String
      const uspFromString = new URLSearchParams(queryStringSample);
      console.log(uspFromString);


      // Create Query String as Object
      const queryStringSampleAsObject = {
        name: 'Dom',
        age: 36,
        occupation: 'Software Developer',
      };

      // Create URLSearchParams Object from Object
      const uspFromObject = new URLSearchParams(queryStringSampleAsObject);

      // Get Param from URLSearchParams
      const name = uspFromObject.get('name');
      console.log(`Value of 'name': ${name}`);

      // Change Param in URLSearchParams
      uspFromObject.set('name', 'New Name');
      // Set New Param in URLSearchParams
      uspFromObject.set('programming language', 'JavaScript');

      for (const [key, value] of uspFromObject) {
        console.log(`${key} => ${value}`);
      }

      // Convert URLSearchParams Object to Query String
      console.log(uspFromString.toString());
      console.log(uspFromObject.toString());
    </script>
  </body>
</html>