<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>URLSearchParams in JS</title>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  </head>
  <body>
    <h1>URLSearchParams in JavaScript - Constructing Query Strings</h1>

    <script src="./in-fetch-api.js"></script>
    <script src="js.js">
      // Create Query String as String
      const queryStringSample = 'name=Dom&age=36&occupation=Software+Developer';
      // Create URLSearchParams Object from String
      const uspFromString = new URLSearchParams(queryStringSample);
      console.log(uspFromString);


      // Create Query String as Object
      const queryStringSampleAsObject = {
        name: 'Dom',
        age: 36,
        occupation: 'Software Developer',
      };

      // Create URLSearchParams Object from Object
      const uspFromObject = new URLSearchParams(queryStringSampleAsObject);

      // Get Param from URLSearchParams
      const name = uspFromObject.get('name');
      console.log(`Value of 'name': ${name}`);

      // Change Param in URLSearchParams
      uspFromObject.set('name', 'New Name');
      // Set New Param in URLSearchParams
      uspFromObject.set('programming language', 'JavaScript');

      for (const [key, value] of uspFromObject) {
        console.log(`${key} => ${value}`);
      }

      // Convert URLSearchParams Object to Query String
      console.log(uspFromString.toString());
      console.log(uspFromObject.toString());
    </script>

    <script>
        // 06. Password Validator

    function validatePassword(password) {
      let isValid = true;
      let numbers = 0;
      let areOnlyLetters = true;

      if (password.length < 6 || password.length > 10) {
        isValid = false;
        console.log("Password must be between 6 and 10 characters");
      }

        for (let index = 0; index < password.length; index++) {
          const letter = password[index];

          // console.log(letter);

          const isNumber = checkIsNumber(letter);

          if (isNumber) {
            numbers++;
            // console.log(numbers);
          } else {
            checkOnlyLetters(letter);
          }
          
        }

      if (numbers < 2) {
        isValid = false;
        // console.log("Password must have at least 2 digits");
      }

      if (isValid) {
        console.log("Password is valid");
      } else if (!areOnlyLetters) {
        console.log("Password must consist only of letters and digits");
      }

      if (numbers < 2) {
        // isValid = false;
        console.log("Password must have at least 2 digits");
      }

      function checkIsNumber(input) {
            const num = Number(input);
            const isNumber = Number.isInteger(num);
            return isNumber;
          }

          function checkOnlyLetters(input) {
            const letterLowerCase = input.toLowerCase();
            if (letterLowerCase.charCodeAt(0) < 97 || letterLowerCase.charCodeAt(0) > 122) {
              // console.log(letter.toLowerCase().charCodeAt(0));
              isValid = false;
              // index = password.length;
              areOnlyLetters = false;
              // console.log("Password must consist only of letters and digits");
            }
          }

    }

    // validatePassword('logIn');
    // validatePassword('MyPass123');
    // validatePassword('Pa$s$s');

      // 03. Points Validation

  function validatePoints(coordinates) {
    let dist = 0;
    // let isValid = true;

    function calcDist(x1, y1, x2, y2) {
      const a = x1 - x2;
      const b = y1 - y2;
      const dist = Math.sqrt(a * a + b * b);
      // console.log(dist);
      return dist;
    }

    // console.log(calcDist(100, 100, 400, 300));

    function isValidDist(dist) {
      let isValid = "invalid";

      if (Number.isInteger(dist)) {
        isValid = "valid";
      }

      return isValid;
      
    }

    function checkPoints(x1, y1, x2, y2) {
      let isValid = "invalid";
      // console.log(x1, y1);
      // console.log(x2, y2);
      const dist = calcDist(x1, y1, x2, y2);
      isValid = isValidDist(dist);
      return isValid;
    }

    function printResult(coordinates) {
      const x1 = coordinates[0];
      const y1 = coordinates[1];
      const x2 = coordinates[2];
      const y2 = coordinates[3];
      let isValid = checkPoints(x1, y1, x2, y2);
      console.log(`{${x1}, ${y1}} to {${x2}, ${y2}} is ${isValid}`);
    }

    printResult([coordinates[0], coordinates[1], 0, 0]);
    printResult([coordinates[2], coordinates[3], 0, 0]);
    printResult(coordinates);

    // console.log(checkPoints(coordinates[0], coordinates[1], 0, 0));
    // console.log(checkPoints(coordinates[2], coordinates[3], 0, 0));
    // console.log(checkPoints(coordinates[0], coordinates[1], coordinates[2], coordinates[3]));

    // dist = calcDist(coordinates[0], coordinates[1], 0, 0);

    // if (Number.isInteger(dist)) {
    //   dist = calcDist(coordinates[2], coordinates[3], 0, 0);

    //   if (Number.isInteger(dist)) {
    //     dist = calcDist(coordinates[0], coordinates[1], coordinates[2], coordinates[3]);

    //     if (!Number.isInteger(dist)) {
    //       isValid = false;
    //     }

    //   } else {
    //     isValid = false;
    //   }

    // } else {
    //   isValid = false;
    // }

    // console.log(isValid);

  }

  // validatePoints([3, 0, 0, 4]);
  // validatePoints([2, 1, 1, 1]);
    </script>
  </body>
</html>