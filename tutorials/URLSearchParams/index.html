<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>URLSearchParams in JS</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css"/> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <style>
        body {
          min-height: 100vh;
          margin: 0;
          padding: 3rem;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-direction: column;
          background-color: darkseagreen;
          box-sizing: border-box;
        }
        .container {
          padding: 1rem;
          text-align: center;
          border-radius: 12px;
          /* box-shadow: 
            -1px -1px 3px #fff4, 
            3px 3px 3px #0005; */
        }
        .progress-container {
          position: relative;
          width: 500px;
          display: flex;
          justify-content: space-between;
          filter: drop-shadow(1px 1px 3px #000);
        }
        .progress-bar-back {
          position: absolute;
          top: 50%;
          width: 100%;
          height: 4px;
          margin: 0;
          border: none;
          background-color: lightgray;
          transform: translateY(-50%);
          z-index: -1;
        }
        .progress-bar-front {
          position: absolute;
          top: 50%;
          width: 0%;
          height: 4px;
          margin: 0;
          border: none;
          background-color: green;
          transform: translateY(-50%);
          transition: width 0.4s linear;
          z-index: -1;
        }
        .step {
          width: 30px;
          height: 30px;
          color: lightgray;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          border: 4px solid lightgray;
          box-shadow: inset 1px 1px 2px #0008;
          background-color: white;
        }
        .step i {
          filter: drop-shadow(1px 1px 1px #000);
        }
        .step.checked {
          color: green;
          /* color: beige; */
          border-color: green;
          transition: all 0.4s linear;
          transition-delay: 0.3s;
        }
        .step.checked span {
          position: absolute;
          bottom: -20px;
          color: beige;
          font-size: 14px;
          font-family: cursive;
        }
        .btn {
          border: none;
          margin: 70px 10px 0;
          padding: 10px 20px;
          color: white;
          font-size: 20px;
          border-radius: 5px;
          background-color: slateblue;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
          cursor: pointer;
        }
        .btn:hover {
          opacity: 0.9;
        }
        .btn:active {
          transform: scale(0.97);
        }
        .btn:disabled {
          background-color: lightgray;
        }
        @media (max-width: 500px) {
          .progress-container {
            width: 90vw;
          }
        }

        /* *,
        *::before,
        *::after {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        } */
        .body {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .body * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }
        .body-container {
          width: 200px;
          height: 80px;
          padding: 0.4rem;
          display: flex;
          align-items: center;
          border-radius: 3rem;
          background-color: #d7d7d7;
          cursor: pointer;
        }
        .colored-circle {
          width: 70px;
          height: 70px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          background-color: #e02a5e;
        }
        .white-circle {
          width: 45px;
          height: 45px;
          border-radius: 50%;
          background-color: #fff;
        }
        .active {
          margin-left: auto;
          background-color: #505050;
        }
        .colored-bg {
          background-color: #e02a5e;
        }
      </style>
  </head>
  <body>
    <!-- <h1>Step Progress Bar</h1> -->
    <div class="container">
      <div class="progress-container">
        <hr class="progress-bar-back" />
        <hr class="progress-bar-front" />
        <div class="step checked">
          <i class="fa fa-check"></i>
          <span>Start</span>
        </div>
        <div class="step">
          <i class="fa fa-times"></i>
        </div>
        <div class="step">
          <i class="fa fa-times"></i>
        </div>
        <div class="step">
          <i class="fa fa-times"></i>
        </div>
        <div class="step">
          <i class="fa fa-times"></i>
        </div>
      </div>
      <button class="btn" id="prev" disabled>
        <i class="fa fa-angle-double-left"></i>
      </button>
      <button class="btn" id="next"><i class="fa fa-angle-double-right"></i></button>
    </div>

    <script>
      const nextEl = document.getElementById("next");
      const prevEl = document.getElementById("prev");
      
      const progressEl = document.querySelector(".progress-bar-front");
      
      const stepsEl = document.querySelectorAll(".step");
      
      let currentChecked = 1;
      
      nextEl.addEventListener("click", () => {
        currentChecked++;
        if (currentChecked > stepsEl.length) {
          currentChecked = stepsEl.length;
        }
        updateStepProgress();
      });
      
      prevEl.addEventListener("click", () => {
        currentChecked--;
        if (currentChecked < 1) {
          currentChecked = 1;
        }
        updateStepProgress();
      });
      
      function updateStepProgress() {
        stepsEl.forEach((stepEl, idx) => {
          if (idx < currentChecked) {
            stepEl.classList.add("checked");
          stepEl.innerHTML = `
          <i class="fa fa-check"></i>
          <span>${
            idx === 0
              ? "Start"
              : idx === stepsEl.length - 1
              ? "Final"
              : "Step " + idx
          }</span>
          `;
        } else {
          stepEl.classList.remove("checked");
          stepEl.innerHTML = `
          <i class="fa fa-times"></i>
          `;
        }
      });
    
      const checkedNumber = document.querySelectorAll(".checked");
    
      progressEl.style.width =
        ((checkedNumber.length - 1) / (stepsEl.length - 1)) * 100 + "%";
    
      if (currentChecked === 1) {
        prevEl.disabled = true;
      } else if (currentChecked === stepsEl.length) {
        nextEl.disabled = true;
      } else {
        prevEl.disabled = false;
        nextEl.disabled = false;
      }
    }
    </script>    

    <!-- <h1>Toggle button</h1> -->
    <div class="body">
      <div class="body-container">
        <div class="colored-circle">
          <div class="white-circle"></div>
        </div>
      </div>
    </div>
    <script>
      const BUTTON_CONTAINER = document.querySelector('.body-container');
      const COLORED_CIRCLE = document.querySelector('.colored-circle');
      
      BUTTON_CONTAINER.addEventListener("click", () => {
        document.body.classList.toggle('colored-bg');
        COLORED_CIRCLE.classList.toggle('active');
      })
    </script>
    
    <!-- <h1>URLSearchParams in JavaScript - Constructing Query Strings</h1> -->
        
    <script src="./in-fetch-api.js"></script>
    <script src="js.js">
      // Create Query String as String
      const queryStringSample = 'name=Dom&age=36&occupation=Software+Developer';
      // Create URLSearchParams Object from String
      const uspFromString = new URLSearchParams(queryStringSample);
      console.log(uspFromString);


      // Create Query String as Object
      const queryStringSampleAsObject = {
        name: 'Dom',
        age: 36,
        occupation: 'Software Developer',
      };

      // Create URLSearchParams Object from Object
      const uspFromObject = new URLSearchParams(queryStringSampleAsObject);

      // Get Param from URLSearchParams
      const name = uspFromObject.get('name');
      console.log(`Value of 'name': ${name}`);

      // Change Param in URLSearchParams
      uspFromObject.set('name', 'New Name');
      // Set New Param in URLSearchParams
      uspFromObject.set('programming language', 'JavaScript');

      for (const [key, value] of uspFromObject) {
        console.log(`${key} => ${value}`);
      }

      // Convert URLSearchParams Object to Query String
      console.log(uspFromString.toString());
      console.log(uspFromObject.toString());
    </script>
  </body>
</html>