<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>URLSearchParams in JS</title>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  </head>
  <body>
    <h1>URLSearchParams in JavaScript - Constructing Query Strings</h1>

    <script src="./in-fetch-api.js"></script>
    <script src="js.js">
      // Create Query String as String
      const queryStringSample = 'name=Dom&age=36&occupation=Software+Developer';
      // Create URLSearchParams Object from String
      const uspFromString = new URLSearchParams(queryStringSample);
      console.log(uspFromString);


      // Create Query String as Object
      const queryStringSampleAsObject = {
        name: 'Dom',
        age: 36,
        occupation: 'Software Developer',
      };

      // Create URLSearchParams Object from Object
      const uspFromObject = new URLSearchParams(queryStringSampleAsObject);

      // Get Param from URLSearchParams
      const name = uspFromObject.get('name');
      console.log(`Value of 'name': ${name}`);

      // Change Param in URLSearchParams
      uspFromObject.set('name', 'New Name');
      // Set New Param in URLSearchParams
      uspFromObject.set('programming language', 'JavaScript');

      for (const [key, value] of uspFromObject) {
        console.log(`${key} => ${value}`);
      }

      // Convert URLSearchParams Object to Query String
      console.log(uspFromString.toString());
      console.log(uspFromObject.toString());
    </script>

    <script>
      // 01. The Biscuit Factory

      function compareProduction(params) {
        const biscuitsPerWorker = Number(params[0]);
        const workers = Number(params[1]);
        const otherF = Number(params[2]);

        let total = 0;

        // console.log(biscuitsPerWorker * workers);

        for (let index = 1; index <= 30; index++) {
          let current = biscuitsPerWorker * workers;

          if (index % 3 == 0) {
            current = Math.floor(current * 0.75);
          }

          total = total + current;

        }

        // console.log(total);
        let diff = total - otherF;
        let per = (diff / otherF) * 100;
        // console.log(diff);
        // console.log(per);

        console.log(`You have produced ${total} biscuits for the past month.`);

        if (per > 0) {
          console.log(`You produce ${per.toFixed(2)} percent more biscuits.`);
        } else {
          per = per * (-1);
          console.log(`You produce ${per.toFixed(2)} percent less biscuits.`);
        }

        // console.log(per.toFixed(2));

      }

      // compareProduction(["78", "8", "16000"]);
      // compareProduction(["65", "12", "26000"]);
      // compareProduction(["163", "16", "67020"]);

      
      // 02. Coffee Lover
      
      function menageList(params) {
        const coffees = params[0].split(" ");
        const numCommands = Number(params[1]);
        // console.log(coffees);

        for (let index = 2; index < params.length; index++) {
          let data = params[index].split(" ");
          const action = data[0];
          // console.log(action);

          if (action == "Include") {
            coffees.push(data[1]);
          } else if (action == "Remove") {
            const option = data[1];
            let num = Number(data[2]);
            
            if (num <= coffees.length) {
              if (option == "first") {
                coffees.splice(0, num);
              } else if (option == "last") {
                num = num * (-1);
                coffees.splice(num);
              }
            }
          } else if (action == "Prefer") {
            const index1 = Number(data[1]);
            const index2 = Number(data[2]);
            if (index1 < coffees.length && index1 >= 0) {
              if (index2 < coffees.length && index2 >= 0) {
                const old = coffees[index2];
                coffees[index2] = coffees[index1];
                coffees[index1] = old;
              }
            }
          } else if (action == "Reverse") {
            coffees.reverse();
          }
        }

        console.log("Coffees:");
        console.log(coffees.join(" "));

      }

      // menageList(["Arabica Liberica Charrieriana Magnistipula Robusta BulkCoffee StrongCoffee", "5", "Include TurkishCoffee", "Remove first 2", "Remove last 1", "Prefer 3 1", "Reverse"]);
      // menageList(["Arabica Robusta BulkCoffee StrongCoffee TurkishCoffee", "5", "Include OrdinaryCoffee", "Remove first 1", "Prefer 0 1", "Prefer 3 1", "Reverse"]);
      // menageList(["Robusta StrongCoffee BulkCoffee TurkishCoffee Arabica", "3", "Include OrdinaryCoffee", "Remove first 1", "Prefer 4 1"]);
      // menageList(["Arabica Liberica Charrieriana Magnistipula Robusta BulkCoffee StrongCoffee", "5", "Remove first 2"]);
      // menageList(["Arabica Liberica Charrieriana Magnistipula Robusta BulkCoffee StrongCoffee", "5", "Remove last 1"]);
      // menageList(["Arabica Liberica Charrieriana Magnistipula Robusta BulkCoffee StrongCoffee", "5", "Prefer 3 1"]);
      // menageList(["Arabica Liberica Charrieriana Magnistipula Robusta BulkCoffee StrongCoffee", "5", "Reverse"]);
    </script>
<script>
  const person = {
    username: "jogata", 
    name: "Ionko", 
    hobbies: ["Programming", "Gaming"], 
    education: {
          subject: "Computer Science", 
          year: 2016
        }
      }
      
      const {
        username, 
        hobbies: interests = [], 
        ...others
      } = person;
      
      console.log(interests);
      console.log(others);
      
      const {
        education, 
        education: {
          subject
        }
      } = person;
      
      console.log(education);
      console.log(subject);
      
      const cars = [
        {
          year: 2019, 
          make: "Honda"
        }, 
        {
          year: 2007, 
          make: "Toyota"
        }, 
        {
          year: 2020, 
          make: "Ford"
        }
      ]
      
      for (const { make } of cars) {
        // console.log(car);
        // const { make } = car;
        console.log(make);
      }
      
      const { length } = cars;
      
      console.log(length);
</script>
  </body>
</html>